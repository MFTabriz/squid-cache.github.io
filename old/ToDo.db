<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>ToDo</title><revhistory><revision><revnumber>16</revnumber><date>2010-02-19 13:19:39</date><authorinitials>FrancescoChemolli</authorinitials><revremark>Fixed dangling wiki-links, changed mail links to MailTo macro</revremark></revision><revision><revnumber>15</revnumber><date>2009-03-24 11:32:07</date><authorinitials>AmosJeffries</authorinitials><revremark>polish</revremark></revision><revision><revnumber>14</revnumber><date>2009-03-24 11:25:36</date><authorinitials>AmosJeffries</authorinitials><revremark>some are done</revremark></revision><revision><revnumber>13</revnumber><date>2008-10-14 13:02:26</date><authorinitials>AmosJeffries</authorinitials><revremark>drop ancient TODO list. al this needs review and adding to current roadmaps where still needed</revremark></revision><revision><revnumber>12</revnumber><date>2008-05-18 19:38:59</date><authorinitials>localhost</authorinitials><revremark>converted to 1.6 markup</revremark></revision><revision><revnumber>11</revnumber><date>2008-02-23 00:22:59</date><authorinitials>kinkie</authorinitials></revision><revision><revnumber>10</revnumber><date>2008-02-22 22:49:19</date><authorinitials>AlexRousskov</authorinitials><revremark>Found another list Squid of bugs/features. Added a comment that there are better places to list these.</revremark></revision><revision><revnumber>9</revnumber><date>2008-02-21 17:03:46</date><authorinitials>kinkie</authorinitials></revision><revision><revnumber>8</revnumber><date>2008-02-19 15:41:46</date><authorinitials>kinkie</authorinitials></revision><revision><revnumber>7</revnumber><date>2008-02-19 13:18:10</date><authorinitials>kinkie</authorinitials></revision><revision><revnumber>6</revnumber><date>2007-02-22 19:29:04</date><authorinitials>kinkie</authorinitials></revision><revision><revnumber>5</revnumber><date>2006-11-07 15:15:39</date><authorinitials>kinkie</authorinitials><revremark>CamelCase fixup</revremark></revision><revision><revnumber>4</revnumber><date>2006-11-07 15:15:14</date><authorinitials>kinkie</authorinitials></revision><revision><revnumber>3</revnumber><date>2006-08-31 12:20:10</date><authorinitials>RobertCollins</authorinitials></revision><revision><revnumber>2</revnumber><date>2006-08-24 02:05:15</date><authorinitials>RobertCollins</authorinitials></revision><revision><revnumber>1</revnumber><date>2006-08-24 02:02:31</date><authorinitials>RobertCollins</authorinitials></revision></revhistory></articleinfo><section><title>Misplaced ToDo's</title><itemizedlist><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/alert.png" width="15"/></imageobject><textobject><phrase>/!\</phrase></textobject></inlinemediaobject> The right place to list bugs is the bugzilla database. </para><para><inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/alert.png" width="15"/></imageobject><textobject><phrase>/!\</phrase></textobject></inlinemediaobject> The right place to list future improvements is the <ulink url="https://wiki.squid-cache.org/ToDo/Features#">Features</ulink> interface. </para><para><inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/alert.png" width="15"/></imageobject><textobject><phrase>/!\</phrase></textobject></inlinemediaobject> The right place to list minor tasks anyone can do is the <ulink url="https://wiki.squid-cache.org/ToDo/RoadMap/Tasks#">Roadmap Tasks list</ulink>. </para></listitem></itemizedlist><para>Please do not dump to-do items here. If you get a chance, move these items to the right places. </para><para>This list page just has a general TODO of various bogons noticed in squid. </para><itemizedlist><listitem><para>internal requests - we change their protocol to HTTP in client_side, and then back to INTERNAL in client_side_reply. WTF. </para></listitem><listitem><para>delegate stuff like httpCachable to the request object, and from there to the URLScheme. </para></listitem><listitem><para>HTTP is considered unrevalidatable in client_side. Fixable by delegation to the protocol </para></listitem><listitem><para>why do we consider PUT requests to internal: etc servable ? </para></listitem><listitem><para>HTCP requests are not listed in the client db </para></listitem><listitem><para>ICP and HTCP are not protocols like the other protocols - split them out ? </para></listitem></itemizedlist></section><section><title>Ancient TODO list from Squid 1.1 thru 2.5</title><para>This TODO list is no longer accurate. For more updated Squid plans see: </para><itemizedlist><listitem override="none"><para><ulink url="http://wiki.squid-cache.org/RoadMap/Squid3"/> </para></listitem></itemizedlist><itemizedlist><listitem><para>overlapping helper feature implementation (plain or stateful or both). </para></listitem><listitem><para>always/never direct syntax cleanups. </para></listitem><listitem><para>refactoring of acl driven types to reduce amount of duplicated </para><itemizedlist><listitem override="none"><para>code (acl_check, acl_tos, acl_address, acl_size_t, ...) </para></listitem></itemizedlist></listitem><listitem><para>ETag caching (???) </para></listitem><listitem><para>Generalize socket binding to allow for multipe ICP/HTCP/SNMP sockets </para><itemizedlist><listitem override="none"><para>(get rid of udp_incoming_address) (???) </para></listitem></itemizedlist></listitem><listitem><para>Rework the store API like planned </para></listitem><listitem><para>Improved event driven comm code </para></listitem><listitem><para>Buffer management (required by store API and comm code improvements) </para></listitem><listitem><para>Improved reply processing to not reparse the reply headers several </para><itemizedlist><listitem override="none"><para>times </para></listitem></itemizedlist></listitem><listitem><para>Implement HTCP authentication </para></listitem><listitem><para>Log HTCP queries somewhere, like htcp_query.log </para></listitem><listitem><para>There are various places where ICP means ICP/HTCP, and </para><itemizedlist><listitem override="none"><para>other places where it does not.  For example, cachemgr 'counters' stats like icp.pkts_sent count only ICP.  However, in 'peer_select' stats, ICP does include HTCP as well. </para></listitem></itemizedlist></listitem><listitem><para>dont re-sibling requests which came from a sibling </para></listitem><listitem><para>A customizable cache replacement policy.  Ugh, this could be </para><itemizedlist><listitem override="none"><para>interesting since we just optimized the LRU replacement with a  doubly-linked list. </para></listitem></itemizedlist></listitem><listitem><para>Calculate Content-Length for multipart range replies (AR) </para></listitem><listitem><para>Efficient public peer access control *without ACLs* </para><itemizedlist><listitem override="none"><para>Bill Wichers <code>&lt;billw@unix0.waveform.net&gt;</code> Dave Zarzycki <code>&lt;zarzycki@ricochet.net&gt;</code> # distant_peer_deny (icmp rtt) (hops) #    If the ICP client is farther than &quot;z&quot; hops away, #    or if more than y% of pings to the client exceed #    x milliseconds, then deny. distant_peer_deny   200  75  10 </para></listitem></itemizedlist></listitem><listitem><para>What to do about ACL's and URL escaping? </para></listitem><listitem><para>Review RFC 2068 and RFC 2109 for header handing, especially </para><itemizedlist><listitem override="none"><para>Cache-Control. </para></listitem></itemizedlist></listitem><listitem><para>Everywhere that we use 'pattern' or such, use ACL elements instead. </para><itemizedlist><listitem override="none"><para>stoplist_pattern, refresh_pattern, ...  (DW) </para></listitem></itemizedlist></listitem><listitem><para>Refresh based on content types.  This means we'll need an enum of </para><itemizedlist><listitem override="none"><para>known content types added to StoreEntry.  Unknown types will lose. </para></listitem></itemizedlist></listitem><listitem><para>Write binary headers as metadata? </para></listitem><listitem><para>HTML-escape special characters in errorConvert(). </para></listitem><listitem><para>X-Proxy-hops header? </para></listitem><listitem><para>#ifdefs to disable IP caching </para></listitem><listitem><para>REST for failed ftp transfers. </para></listitem><listitem><para>MD5 acl type </para></listitem></itemizedlist></section></article>