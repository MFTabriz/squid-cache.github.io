<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>Squid-3.3</title><revhistory><revision><revnumber>9</revnumber><date>2015-02-02 15:47:44</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>8</revnumber><date>2014-02-13 21:58:57</date><authorinitials>AmosJeffries</authorinitials><revremark>copy from release - omits the coredump_dir and comments</revremark></revision><revision><revnumber>7</revnumber><date>2013-05-23 01:36:48</date><authorinitials>AmosJeffries</authorinitials><revremark>list features ported from 2.7</revremark></revision><revision><revnumber>6</revnumber><date>2013-02-09 09:37:37</date><authorinitials>AmosJeffries</authorinitials><revremark>3.3 goes stable</revremark></revision><revision><revnumber>5</revnumber><date>2012-10-06 10:38:56</date><authorinitials>AmosJeffries</authorinitials><revremark>custom headers directive is request_header_add</revremark></revision><revision><revnumber>4</revnumber><date>2012-10-06 05:33:20</date><authorinitials>AmosJeffries</authorinitials><revremark>3.3 branched into beta release cycle</revremark></revision><revision><revnumber>3</revnumber><date>2012-09-26 23:23:46</date><authorinitials>AmosJeffries</authorinitials><revremark>create from wiki page details</revremark></revision><revision><revnumber>2</revnumber><date>2012-09-26 23:04:35</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>1</revnumber><date>2012-09-26 23:03:57</date><authorinitials>AmosJeffries</authorinitials></revision></revhistory></articleinfo><section><title>Squid 3.3</title><informaltable><tgroup cols="2"><colspec colname="col_0"/><colspec colname="col_1"/><tbody><row rowsep="1"><entry colsep="1" rowsep="1"><para> today </para></entry><entry colsep="1" rowsep="1"><para> Squid-3.3 is <emphasis role="strong">CONSIDERED DANGEROUS</emphasis> as the security people say. Due to unfixed vulnerabilities <emphasis role="strong"> <ulink url="http://www.squid-cache.org/Advisories/SQUID-2014_4.txt">CVE-2014-7141</ulink>, <ulink url="http://www.squid-cache.org/Advisories/SQUID-2014_4.txt">CVE-2014-7142</ulink> and <ulink url="http://www.squid-cache.org/Advisories/SQUID-2014_3.txt">CVE-2014-6270</ulink> </emphasis> and any other recently discovered issues. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> Dec 2013 </para></entry><entry colsep="1" rowsep="1"><para> the Squid-3.3 series became <emphasis role="strong">DEPRECATED</emphasis> with the release of <ulink url="https://wiki.squid-cache.org/Squid-3.3/Squid-3.4#">Squid-3.4</ulink> series </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> Feb 2013 </para></entry><entry colsep="1" rowsep="1"><para> Released for production use. </para></entry></row></tbody></tgroup></informaltable><para>The features have been set and large code changes are reserved for later versions. </para><para>Additions are limited to: </para><itemizedlist><listitem><para>Security fixes </para></listitem><listitem><para>Stability fixes </para></listitem><listitem><para>small optimizations </para></listitem><listitem><para>Documentation updates </para></listitem><listitem><para>Porting of Squid-2.7 feature regressions </para></listitem><listitem><para>Bug fixes </para></listitem></itemizedlist><para>Features ported from 2.7 in this release: </para><itemizedlist><listitem><para>external acl %ACL and %DATA tags (from 3.3.5) </para></listitem></itemizedlist><para>Basic new features in 3.3: </para><itemizedlist><listitem><para>New helper to log access.log to an SQL Database </para></listitem><listitem><para>New helper to quota session access time </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.3/Features/BumpSslServerFirst#">Features/BumpSslServerFirst</ulink> </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.3/Features/MimicSslServerCert#">Features/MimicSslServerCert</ulink> </para></listitem><listitem><para>New directive <ulink url="http://www.squid-cache.org/Doc/config/request_header_add#">request_header_add</ulink> for custom HTTP headers </para></listitem></itemizedlist><para>The intention with this series is to improve the upgrade path and concentrate on further portability improvements. Squid-2.7 missing features are listed as regressions in <ulink url="http://www.squid-cache.org/Versions/v3/3.3/RELEASENOTES.html#s6"/> </para><para>Packages of squid 3.3 source code are available at <ulink url="http://www.squid-cache.org/Versions/v3/3.3/"/> </para><section><title>Security Advisories</title><para>See our <ulink url="http://www.squid-cache.org/Advisories/">Advisories</ulink> list. </para></section><section><title>Open Bugs</title><itemizedlist><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/frown.png" width="15"/></imageobject><textobject><phrase>&lt;:(</phrase></textobject></inlinemediaobject> <ulink url="http://bugs.squid-cache.org/buglist.cgi?bug_id_type=anyexact&amp;bug_severity=blocker&amp;bug_severity=critical&amp;bug_severity=major&amp;bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;chfieldto=Now&amp;product=Squid&amp;query_format=advanced&amp;columnlist=bug_severity%2Cversion%2Cop_sys%2Cshort_desc&amp;order=version%20DESC%2Cbug_severity%2Cbug_id">Major or higher Bugs currently affecting this release</ulink>. </para><itemizedlist><listitem><para>Bugs against any older version can be closed if found fixed in 3.3. </para></listitem><listitem><para>Bugs inherited from older versions are not necessarily blockers on 3.3 stable. </para></listitem></itemizedlist></listitem></itemizedlist></section><section><title>Squid-3.3 default config</title><para>From 3.3 a few performance improvements have been done. The manager regex ACLs have been moved after the DoS and protocol smuggling attack protections. </para><itemizedlist><listitem override="none"><informaltable><tgroup cols="2"><colspec colname="col_0"/><colspec colname="col_1"/><tbody><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/alert.png" width="15"/></imageobject><textobject><phrase>/!\</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> This minimal configuration does not work with versions earlier than 3.2 which are missing special cleanup done to the code. </para></entry></row></tbody></tgroup></informaltable></listitem></itemizedlist><screen><![CDATA[http_port 3128
]]><![CDATA[
refresh_pattern ^ftp:           1440    20%     10080
refresh_pattern ^gopher:        1440    0%      1440
refresh_pattern -i (/cgi-bin/|\?) 0     0%      0
refresh_pattern .               0       20%     4320
]]><![CDATA[
acl localnet src 10.0.0.0/8     # RFC 1918 possible internal network
acl localnet src 172.16.0.0/12  # RFC 1918 possible internal network
acl localnet src 192.168.0.0/16 # RFC 1918 possible internal network
acl localnet src fc00::/7       # RFC 4193 local private network range
acl localnet src fe80::/10      # RFC 4291 link-local (directly plugged) machines
]]><![CDATA[
acl SSL_ports port 443          # https
]]><![CDATA[
acl Safe_ports port 80          # http
acl Safe_ports port 21          # ftp
acl Safe_ports port 443         # https
acl Safe_ports port 70          # gopher
acl Safe_ports port 210         # wais
acl Safe_ports port 1025-65535  # unregistered ports
acl Safe_ports port 280         # http-mgmt
acl Safe_ports port 488         # gss-http
acl Safe_ports port 591         # filemaker
acl Safe_ports port 777         # multiling http
]]><![CDATA[
acl CONNECT method CONNECT
]]><![CDATA[
http_access deny !Safe_ports
http_access deny CONNECT !SSL_ports
http_access allow localhost manager
http_access deny manager
http_access allow localnet
http_access allow localhost
http_access deny all]]></screen></section></section></article>