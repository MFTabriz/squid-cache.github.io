<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>ConfigExamples/Caching/CachingAVUpdates</title><revhistory><revision><revnumber>6</revnumber><date>2021-07-03 09:45:53</date><authorinitials>FrancescoChemolli</authorinitials></revision><revision><revnumber>5</revnumber><date>2016-10-04 12:53:21</date><authorinitials>YuriVoinov</authorinitials></revision><revision><revnumber>4</revnumber><date>2016-10-02 14:09:13</date><authorinitials>YuriVoinov</authorinitials></revision><revision><revnumber>3</revnumber><date>2016-05-02 10:09:39</date><authorinitials>YuriVoinov</authorinitials></revision><revision><revnumber>2</revnumber><date>2016-05-01 18:18:26</date><authorinitials>YuriVoinov</authorinitials></revision><revision><revnumber>1</revnumber><date>2016-05-01 18:16:38</date><authorinitials>YuriVoinov</authorinitials></revision></revhistory></articleinfo><section><title>Caching AV updates</title><para>by <emphasis><ulink url="https://wiki.squid-cache.org/ConfigExamples/Caching/CachingAVUpdates/YuriVoinov#">YuriVoinov</ulink></emphasis> </para><para><emphasis role="strong">Warning</emphasis>: Any example presented here is provided &quot;as-is&quot; with no support or guarantee of suitability. If you have any further questions about these examples please email the squid-users mailing list. </para><section><title>Outline</title><para>One of most common task is caching AV (antivirus) updates. </para></section><section><title>Usage</title><para>To do this you can modify refresh_pattern to your Squid. </para></section><section><title>Squid Configuration File</title><para>Paste the configuration file like this: </para><screen><![CDATA[# AV updates
refresh_pattern -i \.symantecliveupdate\.com\/.*\.(zip|7z|irn|[m|x][0-9][0-9])          4320    100%    43200   reload-into-ims
refresh_pattern -i .*dnl.*\.geo\.kaspersky\.(com|ru)\/.*\.(zip|avc|kdc|nhg|klz|d[at|if])        4320    100%    43200   reload-into-ims
refresh_pattern -i \.kaspersky-labs\.(com|ru)\/.*\.(cab|zip|exe|ms[i|p])        4320    100%    43200   reload-into-ims
refresh_pattern -i \.kaspersky\.(com|ru)\/.*\.(cab|zip|exe|ms[i|p]|avc) 4320    100%    43200   reload-into-ims
refresh_pattern -i .update\.geo\.drweb\.com     4320    100%    43200   reload-into-ims
refresh_pattern -i \.avast.com\/.*\.(vp[u|aa])          4320    100%    43200   reload-into-ims
refresh_pattern -i \.avg.com\/.*\.(bin)         4320    100%    43200   reload-into-ims]]></screen><!--rule (<hr>) is not applicable to DocBook--><para> <ulink url="https://wiki.squid-cache.org/ConfigExamples/Caching/CachingAVUpdates/CategoryConfigExample#">CategoryConfigExample</ulink> </para></section></section></article>