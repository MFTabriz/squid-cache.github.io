<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>ConfigExamples/ConfigExample/Caching/CachingAVUpdates</title><revhistory><revision><revnumber>2</revnumber><date>2016-05-01 18:04:07</date><authorinitials>YuriVoinov</authorinitials></revision><revision><revnumber>1</revnumber><date>2016-05-01 18:03:29</date><authorinitials>YuriVoinov</authorinitials></revision></revhistory></articleinfo><section><title>Caching AV updates</title><para>by <emphasis><ulink url="https://wiki.squid-cache.org/ConfigExamples/ConfigExample/Caching/CachingAVUpdates/YuriVoinov#">YuriVoinov</ulink></emphasis> </para><para><emphasis role="strong">Warning</emphasis>: Any example presented here is provided &quot;as-is&quot; with no support or guarantee of suitability. If you have any further questions about these examples please email the squid-users mailing list. </para><section><title>Outline</title><para>One of the most caching tasks is caching AV (antivirus) updates.  </para></section><section><title>Usage</title><para>Yes, this is most common task to cache AV updates. To do this, you must specify refresh pattern which will be cache most common AV URL's. </para></section><section><title>Squid Configuration File</title><para>Paste the configuration file like this: </para><screen><![CDATA[# AV updates
refresh_pattern -i \.symantecliveupdate.com\/.*\.(7z|irn|m26)           4320    100%    43200   reload-into-ims
refresh_pattern -i .*dnl.*\.geo\.kaspersky\.(com|ru)\/.*\.(zip|avc|kdc|nhg|klz|d[at|if])        4320    100%    43200   reload-into-ims
refresh_pattern -i \.kaspersky-labs.(com|ru)\/.*\.(cab|zip|exe|ms[i|p]) 4320    100%    43200   reload-into-ims
refresh_pattern -i \.kaspersky.(com|ru)\/.*\.(cab|zip|exe|ms[i|p]|avc)  4320    100%    43200   reload-into-ims
refresh_pattern -i \.avast.com\/.*\.(vp[u|aa])          4320    100%    43200   reload-into-ims
refresh_pattern -i \.avg.com\/.*\.(bin)         4320    100%    43200   reload-into-ims
refresh_pattern -i \.securiteinfo.com\/.*\.([h|n]db|ign2)       14400   100%    518400  reload-into-ims]]></screen><!--rule (<hr>) is not applicable to DocBook--><para> <ulink url="https://wiki.squid-cache.org/ConfigExamples/ConfigExample/Caching/CachingAVUpdates/CategoryConfigExample#">CategoryConfigExample</ulink> </para></section></section></article>