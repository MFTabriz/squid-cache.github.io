<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>ConfigExamples/Chat/Wire</title><revhistory><revision><revnumber>3</revnumber><date>2021-07-03 09:51:20</date><authorinitials>FrancescoChemolli</authorinitials></revision><revision><revnumber>2</revnumber><date>2018-05-07 15:59:09</date><authorinitials>YuriVoinov</authorinitials></revision><revision><revnumber>1</revnumber><date>2018-05-07 15:57:06</date><authorinitials>YuriVoinov</authorinitials></revision></revhistory></articleinfo><para><emphasis>by <ulink url="https://wiki.squid-cache.org/ConfigExamples/Chat/Wire/YuriVoinov#">YuriVoinov</ulink></emphasis> </para><section><title>Wire Messenger</title><para><emphasis role="strong">Warning</emphasis>: Any example presented here is provided &quot;as-is&quot; with no support or guarantee of suitability. If you have any further questions about these examples please email the squid-users mailing list. </para><section><title>Outline</title><para>Wire by default blocked by SSL Bump-aware Squid. When run Wire behind proxy, you're get message <code>YOUR CONNECTION IS NOT PRIVATE</code> and no one Wire function works. </para></section><section><title>Usage</title><para>Wire uses next domain names to work: </para><para>wire.com, www.wire.com, prod-nginz-https.wire.com, prod-nginz-ssl.wire.com, prod-assets.wire.com, wire-app.wire.com </para><para>turn01.de.prod.wire.com, turn02.de.prod.wire.com, turn03.de.prod.wire.com, turn04.de.prod.wire.com </para><para>To make in work behind SSL Bump-aware Squid, you're simple require to splice 2nd level domain wire.com. </para></section><section><title>Squid Configuration File</title><para>Paste the configuration file like this: </para><screen><![CDATA[acl DiscoverSNIHost at_step SslBump1
]]><![CDATA[
acl NoSSLIntercept ssl::server_name_regex .wire\.com
]]><![CDATA[
ssl_bump peek DiscoverSNIHost
ssl_bump splice NoSSLIntercept
# other SSL-bump rules ...]]></screen><para>and reconfigure. </para><!--rule (<hr>) is not applicable to DocBook--><para> <ulink url="https://wiki.squid-cache.org/ConfigExamples/Chat/Wire/CategoryConfigExample#">CategoryConfigExample</ulink> </para></section></section></article>