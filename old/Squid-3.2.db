<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>Squid-3.2</title><revhistory><revision><revnumber>6</revnumber><date>2015-02-02 15:55:44</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>5</revnumber><date>2014-02-13 21:46:44</date><authorinitials>AmosJeffries</authorinitials><revremark>shuffle default config example from FAQ</revremark></revision><revision><revnumber>4</revnumber><date>2012-10-30 00:45:16</date><authorinitials>AmosJeffries</authorinitials><revremark>ported urllogin. will be in 3.2.4 when that is available</revremark></revision><revision><revnumber>3</revnumber><date>2012-09-26 22:51:17</date><authorinitials>AmosJeffries</authorinitials><revremark>title is 3.2 not 3.1</revremark></revision><revision><revnumber>2</revnumber><date>2012-08-15 12:12:09</date><authorinitials>AmosJeffries</authorinitials><revremark>3.2 is now stable</revremark></revision><revision><revnumber>1</revnumber><date>2009-09-05 01:49:41</date><authorinitials>AmosJeffries</authorinitials><revremark>we are working on 3.2 now.</revremark></revision></revhistory></articleinfo><section><title>Squid 3.2</title><informaltable><tgroup cols="2"><colspec colname="col_0"/><colspec colname="col_1"/><tbody><row rowsep="1"><entry colsep="1" rowsep="1"><para> today </para></entry><entry colsep="1" rowsep="1"><para> Squid-3.2 is <emphasis role="strong">CONSIDERED DANGEROUS</emphasis> as the security people say. Due to unfixed vulnerabilities <emphasis role="strong"> <ulink url="http://www.squid-cache.org/Advisories/SQUID-2014_4.txt">CVE-2014-7141</ulink>, <ulink url="http://www.squid-cache.org/Advisories/SQUID-2014_4.txt">CVE-2014-7142</ulink>, <ulink url="http://www.squid-cache.org/Advisories/SQUID-2014_3.txt">CVE-2014-6270</ulink>, <ulink url="http://www.squid-cache.org/Advisories/SQUID-2014_2.txt">CVE-2014-3609</ulink>, and <ulink url="http://www.squid-cache.org/Advisories/SQUID-2014_1.txt">CVE-2014-0128</ulink> </emphasis> and any other recently discovered issues. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> Feb 2013 </para></entry><entry colsep="1" rowsep="1"><para> the Squid-3.2 series became <emphasis role="strong">DEPRECATED</emphasis> with the release of <ulink url="https://wiki.squid-cache.org/Squid-3.2/Squid-3.3#">Squid-3.3</ulink> series </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> Aug 2012 </para></entry><entry colsep="1" rowsep="1"><para> Released for production use. </para></entry></row></tbody></tgroup></informaltable><para>The features have been set and large code changes are reserved for later versions. </para><para>Additions are limited to: </para><itemizedlist><listitem><para>Security fixes </para></listitem><listitem><para>Stability fixes </para></listitem><listitem><para>small optimizations </para></listitem></itemizedlist><para>Features Ported from 2.7 in this release: </para><itemizedlist><listitem><para>Unique Sequence numbering for access.log lines </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.2/Features/LogModules#">Features/LogModules</ulink> (including log daemon module) </para></listitem><listitem><para><code>Cache-Control: stale-if-error</code>  handling and other staleness limits. </para></listitem><listitem><para><ulink url="http://www.squid-cache.org/Doc/config/acl#">acl</ulink> urllogin type (available from 3.2.4) </para></listitem></itemizedlist><para>Basic new features in 3.2: </para><itemizedlist><listitem><para>Fully transparent credential pass-thru to <ulink url="http://www.squid-cache.org/Doc/config/cache_peer#">cache_peer</ulink> </para></listitem><listitem><para>Kerberos login to <ulink url="http://www.squid-cache.org/Doc/config/cache_peer#">cache_peer</ulink> </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.2/Features/HTTP11#">Full HTTP/1.1 Support</ulink> </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.2/Features/Tproxy4#">TProxy v4.1+ support for IPv6</ulink> </para></listitem><listitem><para>Dynamic URL generation for <ulink url="http://www.squid-cache.org/Doc/config/deny_info#">deny_info</ulink> redirects </para></listitem><listitem><para>Multi-Lingual FTP directory listings </para></listitem><listitem><para>Multi-Lingual proxy configuration splash pages for captive portals </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.2/Features/Surrogate#">Surrogate 1.0</ulink> protocol support </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.2/Features/SmpScale#">SMP</ulink> Scaling worker processes </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.2/Features/RockStore#">''rock''</ulink> SMP shared memory cache with disk backing </para></listitem><listitem><para>Helpers started on-demand instead of delaying startup and reconfigure process </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.2/Features/HelperMultiplexer#">Multiplexer to add concurrency support for older helpers</ulink> </para></listitem><listitem><para>New helpers to demo <ulink url="http://www.squid-cache.org/Doc/config/url_rewrite_program#">url_rewrite_program</ulink> programs </para></listitem><listitem><para>New helper to lookup Kerberos or NTLM group via LDAP </para></listitem><listitem><para>New helper to de-mux Negotiate/NTLM and Negotiate/Kerberos authentication </para></listitem><listitem><para><emphasis>Purge</emphasis> tool to manage UFS/AUFS/DiskD caches bundled </para></listitem><listitem><para>EUI (MAC address) logging and external ACL handling </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.2/Features/AclRandom#">Features/AclRandom</ulink> </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.2/Features/EDNS#">Features/EDNS</ulink> </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.2/Features/LogDnsWait#">Features/LogDnsWait</ulink> </para></listitem><listitem><para>IPv6 support for TCP split-stack </para></listitem></itemizedlist><para>Packages of squid 3.2 source code are available at <ulink url="http://www.squid-cache.org/Versions/v3/3.2/"/> </para><section><title>Security Advisories</title><para>See our <ulink url="http://www.squid-cache.org/Advisories/">Advisories</ulink> list. </para></section><section><title>Open Bugs</title><itemizedlist><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/frown.png" width="15"/></imageobject><textobject><phrase>&lt;:(</phrase></textobject></inlinemediaobject> <ulink url="http://bugs.squid-cache.org/buglist.cgi?bug_id_type=anyexact&amp;bug_severity=blocker&amp;bug_severity=critical&amp;bug_severity=major&amp;bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;chfieldto=Now&amp;product=Squid&amp;query_format=advanced&amp;columnlist=bug_severity%2Cversion%2Cop_sys%2Cshort_desc&amp;order=version%20DESC%2Cbug_severity%2Cbug_id">Major or higher Bugs currently affecting this release</ulink>. </para><itemizedlist><listitem><para>Bugs against any older version can be closed if found fixed in 3.2. </para></listitem><listitem><para>Bugs inherited from older versions are not necessarily blockers on 3.2 stable. </para></listitem></itemizedlist></listitem></itemizedlist></section><section><title>Squid-3.2 default config</title><para>From 3.2 further configuration cleanups have been done to make things easier and safer. The manager, localhost, and to_localhost ACL definitions are now built-in. </para><itemizedlist><listitem override="none"><informaltable><tgroup cols="2"><colspec colname="col_0"/><colspec colname="col_1"/><tbody><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/alert.png" width="15"/></imageobject><textobject><phrase>/!\</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> This minimal configuration does not work with versions earlier than 3.2 which are missing special cleanup done to the code. </para></entry></row></tbody></tgroup></informaltable></listitem></itemizedlist><screen><![CDATA[http_port 3128
]]><![CDATA[
refresh_pattern ^ftp:           1440    20%     10080
refresh_pattern ^gopher:        1440    0%      1440
refresh_pattern -i (/cgi-bin/|\?) 0     0%      0
refresh_pattern .               0       20%     4320
]]><![CDATA[
acl localnet src 10.0.0.0/8     # RFC 1918 possible internal network
acl localnet src 172.16.0.0/12  # RFC 1918 possible internal network
acl localnet src 192.168.0.0/16 # RFC 1918 possible internal network
acl localnet src fc00::/7       # RFC 4193 local private network range
acl localnet src fe80::/10      # RFC 4291 link-local (directly plugged) machines
]]><![CDATA[
acl SSL_ports port 443
]]><![CDATA[
acl Safe_ports port 80          # http
acl Safe_ports port 21          # ftp
acl Safe_ports port 443         # https
acl Safe_ports port 70          # gopher
acl Safe_ports port 210         # wais
acl Safe_ports port 1025-65535  # unregistered ports
acl Safe_ports port 280         # http-mgmt
acl Safe_ports port 488         # gss-http
acl Safe_ports port 591         # filemaker
acl Safe_ports port 777         # multiling http
acl CONNECT method CONNECT
]]><![CDATA[
http_access allow manager localhost
http_access deny manager
http_access deny !Safe_ports
http_access deny CONNECT !SSL_ports
http_access allow localhost
http_access allow localnet
http_access deny all]]></screen></section></section></article>