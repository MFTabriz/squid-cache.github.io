<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>DevelopmentIdeas/RequestFlowOptimization</title><revhistory><revision><revnumber>2</revnumber><date>2008-05-18 19:38:56</date><authorinitials>localhost</authorinitials><revremark>converted to 1.6 markup</revremark></revision><revision><revnumber>1</revnumber><date>2007-03-02 19:39:29</date><authorinitials>kinkie</authorinitials></revision></revhistory></articleinfo><section><title>Request Flow reorganization</title><para>(from the old Faq-O-Matic) </para><para>The request flow should be as clean as possible  </para><orderedlist numeration="arabic"><listitem><para>The proxy request flow should be just that. Separate cache from the request flow.  </para></listitem><listitem><para>No double or triple copying of data. Make use of reference counted data buffers to pass data as-is from reader to writer, including to/from cache.  </para></listitem><listitem><para>As few special cases as possible. Beware of &quot;huge&quot; requests, or joined requests with a &quot;huge&quot; distance between two users.  </para></listitem></orderedlist><para>Due to requirement '3', I think we should drop the idea of joined requests where there is more than one client. Better if we simply support storage of partial objects, and then ignores the whole issue. </para><para><ulink url="https://wiki.squid-cache.org/DevelopmentIdeas/RequestFlowOptimization/Henrik_Nordstr%C3%B6m#">Henrik_Nordstr√∂m</ulink> </para><para><emphasis role="strong">Discussion</emphasis> </para><para><!--The macro Date caused an error and should be blacklisted. It returned the data '2007-03-02' which caused the docbook-formatter to choke. Please file a bug.--> <ulink url="https://wiki.squid-cache.org/DevelopmentIdeas/RequestFlowOptimization/AdrianChadd#">AdrianChadd</ulink> is working on this in the [Squid-2.6] codebase. </para></section></article>