<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>KnowledgeBase/Ubuntu</title><revhistory><revision><revnumber>7</revnumber><date>2020-02-09 01:16:45</date><authorinitials>AmosJeffries</authorinitials><revremark>bump details of Ubuntu supported versions</revremark></revision><revision><revnumber>6</revnumber><date>2015-09-09 19:46:37</date><authorinitials>AmosJeffries</authorinitials><revremark>update to mention current Ubuntu releases</revremark></revision><revision><revnumber>5</revnumber><date>2013-07-28 15:48:07</date><authorinitials>Eliezer Croitoru</authorinitials></revision><revision><revnumber>4</revnumber><date>2011-09-22 00:03:52</date><authorinitials>AmosJeffries</authorinitials><revremark>bump to aptitude. it has better dependency resolution</revremark></revision><revision><revnumber>3</revnumber><date>2011-05-17 00:00:45</date><authorinitials>AmosJeffries</authorinitials><revremark>include compiling instructions from Debian</revremark></revision><revision><revnumber>2</revnumber><date>2011-05-10 11:38:58</date><authorinitials>AmosJeffries</authorinitials><revremark>link to FAQ</revremark></revision><revision><revnumber>1</revnumber><date>2010-09-13 00:47:49</date><authorinitials>AmosJeffries</authorinitials><revremark>import from main FAQ</revremark></revision></revhistory></articleinfo><section><title>Squid on Ubuntu</title><section><title>Pre-Built Binary Packages</title><para>Packages available for Squid on multiple architectures. </para><itemizedlist><listitem override="none"><para><emphasis role="strong">Maintainer:</emphasis> Luigi Gangitano </para></listitem></itemizedlist><section><title>Squid-4</title><para>Bug Reports: <ulink url="https://bugs.launchpad.net/ubuntu/+source/squid"/> </para><itemizedlist><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="16" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/icon-info.png" width="16"/></imageobject><textobject><phrase>{i}</phrase></textobject></inlinemediaobject> Ubuntu 18.10 (Cosmic) or newer. </para></listitem></itemizedlist><para>Install Procedure: </para><screen><![CDATA[ aptitude install squid]]></screen></section><section><title>Squid-3.5</title><para>Bug Reports: <ulink url="https://bugs.launchpad.net/ubuntu/+source/squid"/> </para><itemizedlist><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="16" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/icon-info.png" width="16"/></imageobject><textobject><phrase>{i}</phrase></textobject></inlinemediaobject> Ubuntu 18.04 (Bionic) or older. </para></listitem></itemizedlist><para>Install Procedure: </para><screen><![CDATA[ aptitude install squid]]></screen></section></section><section><title><ulink url="https://wiki.squid-cache.org/KnowledgeBase/Ubuntu/KnowledgeBase/Debian">(see Debian)</ulink></title><para>Many versions of Ubuntu and Debian are routinely build-tested and unit-tested as part of our <ulink url="https://wiki.squid-cache.org/KnowledgeBase/Ubuntu/BuildFarm#">BuildFarm</ulink> and are known to compile OK. </para><itemizedlist><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/alert.png" width="15"/></imageobject><textobject><phrase>/!\</phrase></textobject></inlinemediaobject> The Linux system layout differs markedly from the Squid defaults. The following ./configure options are needed to install Squid into the Debian / Ubuntu standard filesystem locations: </para></listitem></itemizedlist><screen><![CDATA[--prefix=/usr \
--localstatedir=/var \
--libexecdir=${prefix}/lib/squid \
--datadir=${prefix}/share/squid \
--sysconfdir=/etc/squid \
--with-default-user=proxy \
--with-logdir=/var/log/squid \
--with-pidfile=/var/run/squid.pid]]></screen><para>Plus, of course, any custom configuration options you may need. </para><itemizedlist><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="16" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/icon-error.png" width="16"/></imageobject><textobject><phrase>{X}</phrase></textobject></inlinemediaobject> For Debian Jesse (8), Ubuntu Oneiric (11.10), or older <emphasis role="strong">squid3</emphasis> packages; the above <emphasis>squid</emphasis> labels should have a <emphasis role="strong">3</emphasis> appended. </para></listitem><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="16" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/icon-error.png" width="16"/></imageobject><textobject><phrase>{X}</phrase></textobject></inlinemediaobject> Remember these are only defaults. Altering squid.conf you can point the logs at the right path anyway without either the workaround or the patching. </para></listitem></itemizedlist><para>As always, additional libraries may be required to support the features you want to build. The default package dependencies can be installed using: </para><screen><![CDATA[aptitude build-dep squid]]></screen><para>This requires only that your sources.list contain the <emphasis role="strong">deb-src</emphasis> repository to pull the source package information. Features which are not supported by the distribution package will need investigation to discover the dependency package and install it. </para><itemizedlist><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="16" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/icon-info.png" width="16"/></imageobject><textobject><phrase>{i}</phrase></textobject></inlinemediaobject> The usual one requested is <emphasis role="strong">libssl-dev</emphasis> for SSL support. </para><itemizedlist><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/alert.png" width="15"/></imageobject><textobject><phrase>/!\</phrase></textobject></inlinemediaobject> However, please note that <ulink url="https://wiki.squid-cache.org/KnowledgeBase/Ubuntu/Squid-3.5#">Squid-3.5</ulink> is not compatible with OpenSSL v1.1+. As of Debian Squeeze, or Ubuntu Zesty the <emphasis role="strong">libssl1.0-dev</emphasis> package must be used instead. This is resolved in the <ulink url="https://wiki.squid-cache.org/KnowledgeBase/Ubuntu/Squid-4#">Squid-4</ulink> packages. </para></listitem></itemizedlist></listitem></itemizedlist><section><title>Init Script</title><para>The init.d script is part of the official Debain/Ubuntu packaging. It does not come with Squid directly. So you will need to download a copy from <ulink url="https://alioth.debian.org/plugins/scmgit/cgi-bin/gitweb.cgi?p=pkg-squid/pkg-squid3.git;a=blob_plain;f=debian/squid.rc"/> to /etc/init.d/squid </para></section></section><section><title>Compile on A basic Ubuntu Server</title><para>@Eliezer </para><para>Squid can be built on a basic Ubuntu basic Server and it seems like an enterprise OS to me. The only dependencies are &quot;build-essential&quot; and &quot;libltdl-dev&quot; for squid to run as a forward proxy. </para><screen><![CDATA[sudo apt-get install build-essential libltdl-dev]]></screen><para>For more then just forward proxy like ssl-bump or tproxy We need a bit more testing. </para><para>Latest squid 3.3.8 builds and runs on ubuntu server 13.04. </para></section></section><section><title>Troubleshooting</title><!--rule (<hr>) is not applicable to DocBook--><para> <ulink url="https://wiki.squid-cache.org/KnowledgeBase/Ubuntu/CategoryKnowledgeBase#">CategoryKnowledgeBase</ulink> <ulink url="https://wiki.squid-cache.org/KnowledgeBase/Ubuntu/SquidFaq/BinaryPackages#">SquidFaq/BinaryPackages</ulink> </para></section></article>