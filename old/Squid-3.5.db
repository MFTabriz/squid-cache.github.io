<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>Squid-3.5</title><revhistory><revision><revnumber>24</revnumber><date>2018-07-02 05:40:49</date><authorinitials>AmosJeffries</authorinitials><revremark>3.5 deprecated by 4.1 release</revremark></revision><revision><revnumber>23</revnumber><date>2018-02-27 03:18:19</date><authorinitials>AmosJeffries</authorinitials><revremark>better major bugs listing accuracy</revremark></revision><revision><revnumber>22</revnumber><date>2016-07-04 13:13:09</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>21</revnumber><date>2016-07-04 13:10:18</date><authorinitials>AmosJeffries</authorinitials><revremark>add default config file example for 3.5, slightly shuffled for clarity and no comments</revremark></revision><revision><revnumber>20</revnumber><date>2016-01-05 06:11:21</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>19</revnumber><date>2015-02-02 15:39:28</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>18</revnumber><date>2015-02-02 15:03:39</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>17</revnumber><date>2015-02-02 14:56:14</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>16</revnumber><date>2015-01-17 08:09:13</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>15</revnumber><date>2015-01-13 12:40:23</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>14</revnumber><date>2015-01-13 12:38:45</date><authorinitials>AmosJeffries</authorinitials><revremark>3.5 is now in production release</revremark></revision><revision><revnumber>13</revnumber><date>2014-10-09 09:16:33</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>12</revnumber><date>2014-10-09 08:10:42</date><authorinitials>AmosJeffries</authorinitials><revremark>3.5 branched to beta</revremark></revision><revision><revnumber>11</revnumber><date>2014-09-03 02:29:09</date><authorinitials>AmosJeffries</authorinitials><revremark>update links</revremark></revision><revision><revnumber>10</revnumber><date>2014-09-03 02:25:53</date><authorinitials>AmosJeffries</authorinitials><revremark>PROXY protocol support merged</revremark></revision><revision><revnumber>9</revnumber><date>2014-08-11 17:20:17</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>8</revnumber><date>2014-08-11 17:18:37</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>7</revnumber><date>2014-05-09 14:41:43</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>6</revnumber><date>2014-05-09 06:37:02</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>5</revnumber><date>2014-05-04 14:22:10</date><authorinitials>AmosJeffries</authorinitials><revremark>updates for current features</revremark></revision><revision><revnumber>4</revnumber><date>2014-01-03 04:00:07</date><authorinitials>AmosJeffries</authorinitials><revremark>status update on the 3.5 series</revremark></revision><revision><revnumber>3</revnumber><date>2013-12-07 09:01:51</date><authorinitials>AmosJeffries</authorinitials><revremark>add details mentioned in release notes</revremark></revision><revision><revnumber>2</revnumber><date>2013-10-15 04:06:41</date><authorinitials>AmosJeffries</authorinitials><revremark>add features removed list</revremark></revision><revision><revnumber>1</revnumber><date>2013-07-22 00:14:04</date><authorinitials>AmosJeffries</authorinitials><revremark>initial revision cloned from 3.4 and adjusted.</revremark></revision></revhistory></articleinfo><section><title>Squid 3.5</title><informaltable><tgroup cols="2"><colspec colname="col_0"/><colspec colname="col_1"/><tbody><row rowsep="1"><entry colsep="1" rowsep="1"><para> Jul 2018 </para></entry><entry colsep="1" rowsep="1"><para> Squid-3.5 series became <emphasis role="strong">DEPRECATED</emphasis> with the release of  <ulink url="https://wiki.squid-cache.org/Squid-3.5/Squid-4#">Squid-4</ulink> series </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> Jan 2015 </para></entry><entry colsep="1" rowsep="1"><para> Released for production use. </para></entry></row></tbody></tgroup></informaltable><para>The features have been set and large code changes are reserved for later versions. </para><itemizedlist><listitem override="none"><para>Additions are limited to: </para></listitem><listitem><para>Security fixes </para></listitem><listitem><para>Stability fixes </para></listitem><listitem><para>Bug fixes </para></listitem><listitem><para>Documentation updates </para></listitem></itemizedlist><para>Features ported from 2.7 in this release: </para><itemizedlist><listitem><para><ulink url="http://www.squid-cache.org/Doc/config/collapsed_forwarding/">Collapsed Forwarding</ulink> </para></listitem></itemizedlist><para>Basic new features in 3.5: </para><itemizedlist><listitem><para>eCAP version 1.0 support </para></listitem><listitem><para>Authentication helper query extensions (see <ulink url="http://www.squid-cache.org/Doc/config/auth_param#">auth_param</ulink>) </para></listitem><listitem><para>Caching large (&gt;32KB) objects in <ulink url="https://wiki.squid-cache.org/Squid-3.5/Features/LargeRockStore#">Rock storage</ulink> </para></listitem><listitem><para>Extended cache HIT/MISS decision control (see <ulink url="http://www.squid-cache.org/Doc/config/send_hit#">send_hit</ulink>, <ulink url="http://www.squid-cache.org/Doc/config/store_miss#">store_miss</ulink>) </para></listitem><listitem><para>Logging of transaction start time (see <ulink url="http://www.squid-cache.org/Doc/config/logformat#">logformat</ulink>) </para></listitem><listitem><para>Adaptation service performed ACL test </para></listitem><listitem><para>Support named services </para></listitem><listitem><para>Upgraded squidclient tool </para></listitem><listitem><para>Helper support for concurrency channels (Digest Authentication, StoreID, URL-rewrite) </para></listitem><listitem><para><ulink url="https://wiki.squid-cache.org/Squid-3.5/Features/FtpRelay#">Native FTP protocol relay</ulink> </para></listitem><listitem><para>Initial support for <ulink url="http://www.haproxy.org/download/1.5/doc/proxy-protocol.txt">PROXY protocol</ulink> </para></listitem><listitem><para>Basic authentication MSNT helper changes </para></listitem></itemizedlist><para>Added in 3.5.13: </para><itemizedlist><listitem><para>Support Elliptic Curve ciphers in TLS </para></listitem></itemizedlist><para>Features removed in 3.5: </para><itemizedlist><listitem><para>COSS storage type has been superceded by <ulink url="https://wiki.squid-cache.org/Squid-3.5/Features/LargeRockStore#">Rock</ulink> storage type. </para></listitem><listitem><para>dnsserver helper has been superceded by DNS internal client. </para></listitem><listitem><para>DNS helper API has been superceded by DNS internal client. </para></listitem></itemizedlist><para>The intention with this series is to improve performance and HTTP support. Some remaining Squid-2.7 missing features are listed as regressions in <ulink url="http://www.squid-cache.org/Versions/v3/3.5/RELEASENOTES.html#ss5.1"/> </para><para>Packages of what will become squid 3.5 source code are available at <ulink url="http://www.squid-cache.org/Versions/v3/3.5/"/> </para><section><title>Security Advisories</title><para>See our <ulink url="http://www.squid-cache.org/Advisories/">Advisories</ulink> list. </para></section><section><title>Open Bugs</title><itemizedlist><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/frown.png" width="15"/></imageobject><textobject><phrase>&lt;:(</phrase></textobject></inlinemediaobject> <ulink url="http://bugs.squid-cache.org/buglist.cgi?bug_id_type=anyexact&amp;bug_severity=blocker&amp;bug_severity=critical&amp;bug_severity=major&amp;bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;chfieldto=Now&amp;product=Squid&amp;query_format=advanced&amp;columnlist=bug_severity%2Cversion%2Cop_sys%2Cshort_desc&amp;order=version%20DESC%2Cbug_severity%2Cbug_id&amp;o2=equals&amp;v2=unspecified&amp;f1=version&amp;o1=lessthaneq&amp;v1=3.5">Major or higher Bugs currently affecting this release</ulink>. </para><itemizedlist><listitem><para>Bugs against any older version can be closed if found fixed in 3.5. </para></listitem><listitem><para>Bugs inherited from older versions are not necessarily blockers on 3.5 stable. </para></listitem></itemizedlist></listitem></itemizedlist></section><section><title>Squid-3.5 default config</title><para>From 3.5 a few performance improvements have been done. The manager regex ACLs have been moved after the DoS and protocol smuggling attack protections. </para><itemizedlist><listitem override="none"><informaltable><tgroup cols="2"><colspec colname="col_0"/><colspec colname="col_1"/><tbody><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/alert.png" width="15"/></imageobject><textobject><phrase>/!\</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> This minimal configuration does not work with versions earlier than 3.2 which are missing special cleanup done to the code. </para></entry></row></tbody></tgroup></informaltable></listitem></itemizedlist><screen><![CDATA[http_port 3128
]]><![CDATA[
acl localnet src 10.0.0.0/8     # RFC1918 possible internal network
acl localnet src 172.16.0.0/12  # RFC1918 possible internal network
acl localnet src 192.168.0.0/16 # RFC1918 possible internal network
acl localnet src fc00::/7       # RFC 4193 local private network range
acl localnet src fe80::/10      # RFC 4291 link-local (directly plugged) machines
]]><![CDATA[
acl SSL_ports port 443
]]><![CDATA[
acl Safe_ports port 80          # http
acl Safe_ports port 21          # ftp
acl Safe_ports port 443         # https
acl Safe_ports port 70          # gopher
acl Safe_ports port 210         # wais
acl Safe_ports port 280         # http-mgmt
acl Safe_ports port 488         # gss-http
acl Safe_ports port 591         # filemaker
acl Safe_ports port 777         # multiling http
acl Safe_ports port 1025-65535  # unregistered ports
]]><![CDATA[
acl CONNECT method CONNECT
]]><![CDATA[
http_access deny !Safe_ports
http_access deny CONNECT !SSL_ports
http_access allow localhost manager
http_access deny manager
]]><![CDATA[
#
# INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS
#
]]><![CDATA[
http_access allow localnet
http_access allow localhost
http_access deny all
]]><![CDATA[
coredump_dir /squid/var/cache/squid
]]><![CDATA[
refresh_pattern ^ftp:           1440    20%     10080
refresh_pattern ^gopher:        1440    0%      1440
refresh_pattern -i (/cgi-bin/|\?) 0     0%      0
refresh_pattern .               0       20%     4320]]></screen></section></section></article>