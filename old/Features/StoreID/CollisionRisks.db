<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>Features/StoreID/CollisionRisks</title><revhistory><revision><revnumber>7</revnumber><date>2015-11-19 11:42:36</date><authorinitials>Eliezer Croitoru</authorinitials><revremark>Fixed couple typos.</revremark></revision><revision><revnumber>6</revnumber><date>2015-11-19 11:15:32</date><authorinitials>Eliezer Croitoru</authorinitials><revremark>Reorginzing the Medical Facilities cache operation risks.</revremark></revision><revision><revnumber>5</revnumber><date>2015-02-24 01:03:59</date><authorinitials>Eliezer Croitoru</authorinitials></revision><revision><revnumber>4</revnumber><date>2014-11-06 17:06:26</date><authorinitials>Eliezer Croitoru</authorinitials><revremark>Fixing a typo.</revremark></revision><revision><revnumber>3</revnumber><date>2013-10-08 03:23:00</date><authorinitials>AmosJeffries</authorinitials><revremark>indenting alignments</revremark></revision><revision><revnumber>2</revnumber><date>2013-10-08 03:21:55</date><authorinitials>AmosJeffries</authorinitials><revremark>grammar updates, and added some points.</revremark></revision><revision><revnumber>1</revnumber><date>2013-10-07 21:28:47</date><authorinitials>Eliezer Croitoru</authorinitials></revision></revhistory></articleinfo><itemizedlist><listitem override="none"><para><emphasis>by Eliezer Croitoru</emphasis> </para></listitem></itemizedlist><section><title>The risks that come with the Job</title><para>I would like to describe some of the risks that comes with maintaining a cache. </para><para>The basics of information security are Confidentiality, Integrity, and Availability. </para><section><title>Confidentiality</title><para>Since HTTP we are talking about, there is a real issue with reading and sharing URLs and other info. </para><para>I remember that there was a professor that could tell what OS and what OS specific version the TCP packets on a tcpdump came from. </para><para>So a far more detailed information can be extracted using a proxy access.log or cache.log. </para><para>It requires the cache administratr to be a person that can be trusted with all this information.  </para></section><section><title>Integrity</title><para>While operating a cache there is a very tempting way to alter data or over-cache it. </para><para>The above can violate the integrity of the response to the client request. </para></section><section><title>Availability</title><para>A cache do allow over availability which should not impact anyone of the users. </para><para>The whole purpose of a caching proxy is to allow the above and the cache admin should make sure the cache is bringing availability and not the opposite. </para></section></section><section><title>Several real world examples</title><para>To allow you understand the meaning of the above I would describe a scenario. </para><para>These issues are major problems for end users and businesses trading on the Internet. Some can even endanger lives. They are caused by bad proxy configuration, yet the proxy administrator will very rarely ever be told about the problem. Since the proxy is making it appear to be a broken website - the website administrator will face all the complaints. </para><section><title>ISP</title><para>A user tries to write a small article while the page loads up and after reading two pages long the date that the professor told this poor user to read was not the date of the delivered article. </para><para>A very fast F5 or SHIFT-F5 or CTRL-F5 changes the page contents and the poor user understand that the page was updated two weeks ago (the professor talked about the latest released paper.. ). </para></section><section><title>Medical Facilities</title><para>When life at stake an MD or another assisting force can get some information faster and by that squid is a direct life saving assisting tool. </para><para><emphasis role="strong">This is the place to alert cache admins to be carefulness with cache settings since they can harm almost directly a patient and others.</emphasis> </para><para>Examples for cases which was seen in the past when a cache was configured wrongly in a medical facility: </para><itemizedlist><listitem><para>The Doctor couldn't know about the latest news in a specific area since the cached page was not up to date. </para></listitem><listitem><para>The patient cannot buy the drug since there is a big gap between production and market demand and the inventory meter was wrong. </para></listitem><listitem><para>X-ray\CT\MRI and other scan results that was transferred over the Internet or Intranet was over-cached and resulted a situation which the wrong and old file was downloaded and caused a false diagnose. </para></listitem></itemizedlist></section><section><title>Police, Army and National Security</title><para>Police might be able to use squid as a forensic evidence tool that will help to catch pedophiles, arms dealers, drug smugglers and many other things which might exist out-there. </para><itemizedlist><listitem><para>Squid in it's current form might not be able to prove things unless it is being used by a Squid Master. </para></listitem><listitem><para>There are couple things which needs to be tuned in squid in order to make it acceptable in court as an Electronic Forensic assisting tool. </para></listitem><listitem><para>If you are looking for a solution without modifying squid, you can run an ICAP service which can help to shed more light in many cases then squid debug output.(<ulink url="http://www.squid-cache.org/Misc/icap.html">GreasySpoon</ulink>, <ulink url="http://c-icap.sourceforge.net/">c-icap</ulink>, <ulink url="https://github.com/netom/pyicap">pyicap</ulink>) </para></listitem></itemizedlist><para>Army and National Security can use squid to assist realtime applications take the HIT when there is a need for spreading public alerts or to be gateway to soldiers assisting devices and services. </para></section><section><title>Parenthood</title><para>Pictures that parents do not want shown their child shows up on a clean site since there is a problem with the StoreID algorithm pattern matching the clean site with another porn site pattern. </para></section><section><title>Bank\Trade</title><para>A bank account page that is not up-to-date will make the poor users buy something he can't really pay for. </para><para>Administrators choosing to ignore caching rules on images causes wrong captcha picture to be delivered to users. Entering the embedded text in the captcha login does not work properly. Blocking users from accessing their banking accounts or making online purchases. </para></section></section><section><title>Cache in other levels</title><section><title>CPU</title><para>A CPU cache memory can effect many results of calculations. </para><para>We are doing lots of work on a computers that has lots of cache and if the cache will break down from any reason you won't like the computer that much. I imagine that the CPU cache helps me a lot when writing a small scripts or reading emails. </para></section></section><section><title>Conclusion</title><para>There is a risk in maintaining a cache and there are benefits. </para><para>We are humans and we have the right to do a mistake two or more but we are obligated to do our best. </para><para>When configuring <ulink url="http://www.squid-cache.org/Doc/config/refresh_pattern#">refresh_pattern</ulink> , <ulink url="http://www.squid-cache.org/Doc/config/url_rewrite_program#">url_rewrite_program</ulink> , <ulink url="http://www.squid-cache.org/Doc/config/store_id_program#">store_id_program</ulink> , ICAP service\client or any other feature sit.. eat a good meal, drink a good drink. Then when you are full with power sit on whatever you are supposed to do in order to make it the best you can. </para></section><section><title>How all the above is even related to Squid?</title><para>I would imaging that after hearing someone having troubles with the Internet and then a small F5 fix it would make sure to understand it all. </para><para>Since I am the author of StoreID I would say that it can help to make the WWW faster and one level up more reliable. </para><para>With all the risks that comes with a new function\helper there is a big benefit that make me happy one more day since many others are happy to: </para><informaltable><tgroup cols="1"><colspec colname="col_0"/><tbody><row rowsep="1"><entry colsep="1" rowsep="1"><para> Read an article </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> Play a game</para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> Watch a video </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> Watch a picture </para></entry></row></tbody></tgroup></informaltable><para>And many more. </para><para>So good luck StoreID, </para><screen><![CDATA[# sudo squid]]></screen><para>and &quot;May the Force be with you&quot;. </para><!--rule (<hr>) is not applicable to DocBook--><para> Discuss this page using the &quot;Discussion&quot; link in the main menu </para></section></article>