<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>Http11Checklist</title><revhistory><revision><revnumber>7</revnumber><date>2009-02-14 11:54:15</date><authorinitials>AmosJeffries</authorinitials><revremark>located some test results</revremark></revision><revision><revnumber>6</revnumber><date>2009-02-14 10:48:52</date><authorinitials>AmosJeffries</authorinitials><revremark>lets use smilies for educated expectation. and solid colors for verified support.</revremark></revision><revision><revnumber>5</revnumber><date>2009-02-13 05:17:28</date><authorinitials>AmosJeffries</authorinitials><revremark>start using colors, updates.</revremark></revision><revision><revnumber>4</revnumber><date>2009-02-05 13:14:25</date><authorinitials>AmosJeffries</authorinitials><revremark>update</revremark></revision><revision><revnumber>3</revnumber><date>2009-01-31 10:21:30</date><authorinitials>AmosJeffries</authorinitials><revremark>color the states, update some</revremark></revision><revision><revnumber>2</revnumber><date>2009-01-31 01:00:11</date><authorinitials>AmosJeffries</authorinitials><revremark>cleanup columns and typos</revremark></revision><revision><revnumber>1</revnumber><date>2009-01-31 00:04:04</date><authorinitials>AmosJeffries</authorinitials><revremark>Import from http://devel.squid-cache.org/squidhttp1.1.htm</revremark></revision></revhistory></articleinfo><section><title>Feature: Progress of the HTTP/1.1 conversion of Squid?</title><itemizedlist><listitem><para><emphasis role="strong">Goal</emphasis>: To make Squid a full HTTP/1.1 proxy </para></listitem><listitem><para><emphasis role="strong">Status</emphasis>: Underway </para></listitem></itemizedlist><section><title>Details</title><para>Information is not up to date. Empty entries need to be checked against in the code. </para><itemizedlist><listitem override="none"><informaltable><tgroup cols="2"><colspec colname="col_0"/><colspec colname="col_1"/><tbody><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> Supported. Expect it to work. Verified by third-party testing. A minimum version may be indicated. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> Absent and needs to be done. Third-party tested. A last-tested version may be indicated. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> Developers expect hiss to work. Not third-party confirmed. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/frown.png" width="15"/></imageobject><textobject><phrase>&lt;:(</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> Missing, but optional </para></entry></row></tbody></tgroup></informaltable></listitem></itemizedlist><informaltable><tgroup cols="8"><colspec colname="col_0"/><colspec colname="col_1"/><colspec colname="col_2"/><colspec colname="col_3"/><colspec colname="col_4"/><colspec colname="col_5"/><colspec colname="col_6"/><colspec colname="col_7"/><tbody><row rowsep="1"><entry colsep="1" rowsep="1"><para> <emphasis role="strong">2.x</emphasis> </para></entry><entry colsep="1" rowsep="1"><para> <emphasis role="strong">3.x</emphasis> </para></entry><entry colsep="1" rowsep="1"><para> <emphasis role="strong">ID</emphasis> </para></entry><entry colsep="1" rowsep="1"><para> <emphasis role="strong">Requirement type</emphasis> </para></entry><entry colsep="1" rowsep="1"><para> <emphasis role="strong">section</emphasis> </para></entry><entry colsep="1" rowsep="1"><para> <emphasis role="strong">requirement</emphasis> </para></entry><entry colsep="1" rowsep="1"><para> <emphasis role="strong">notes</emphasis> </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 1 </para></entry><entry colsep="1" rowsep="1"><para> REQUIRED </para></entry><entry colsep="1" rowsep="1"><para> 2.1 </para></entry><entry colsep="1" rowsep="1"><para> handle implied <code> LWS = [CRLF] 1*( SP | HT ) </code> </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 2 </para></entry><entry colsep="1" rowsep="1"><para> REQUIRED </para></entry><entry colsep="1" rowsep="1"><para> 2.2 </para></entry><entry colsep="1" rowsep="1"><para> fold CRLF in headers into one long header before interpreting </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 3 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.1 </para></entry><entry colsep="1" rowsep="1"><para> parse HTTP-Version as two multi-digit integers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/redface.png" width="15"/></imageobject><textobject><phrase>:o</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/redface.png" width="15"/></imageobject><textobject><phrase>:o</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 4 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.1 </para></entry><entry colsep="1" rowsep="1"><para> send HTTP/1.1 in messages once we are conditionally compliant </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/redface.png" width="15"/></imageobject><textobject><phrase>:o</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/redface.png" width="15"/></imageobject><textobject><phrase>:o</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 5 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.1 </para></entry><entry colsep="1" rowsep="1"><para> send HTTP/1.1 in messages that are not compatible with HTTP/1.0 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 6 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 3.1 </para></entry><entry colsep="1" rowsep="1"><para> send HTTP versions greater than that of squid itself. (squid will be 1.1 when and only when it is conditionally compliant with rfc 2616 </para></entry><entry colsep="1" rowsep="1"><para> when we support all of http/1.1 send http/1.1 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject>  </para></entry><entry colsep="1" rowsep="1"><para> 7 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.1 </para></entry><entry colsep="1" rowsep="1"><para> downgrade requests from greater than squid supports to what squid supports, return an error, or switch to tunnel behavior </para></entry><entry colsep="1" rowsep="1"><para> Downgrades the protocol number and decodes TE. Few attempts in downgrading the request is done. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject>  </para></entry><entry colsep="1" rowsep="1"><para> 8 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.1 </para></entry><entry colsep="1" rowsep="1"><para> upgrade client requests to the highest version of HTTP supported by squid. </para></entry><entry colsep="1" rowsep="1"><para> conversion may involve altering header fields in ways that break the versions involved; HNO - 8: HTTP/0.9 is upgraded to HTTP/1.0 if support for 0.9 is enabled (and fixed). </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/redface.png" width="15"/></imageobject><textobject><phrase>:o</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/redface.png" width="15"/></imageobject><textobject><phrase>:o</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 9 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.1 </para></entry><entry colsep="1" rowsep="1"><para> respond to old client requests with HTTP in the same major version. Ie a 1.x client must get a 1.x response, regardless if squid is a 2.x proxy by that point </para></entry><entry colsep="1" rowsep="1"><para> all 3.x responses from squid are in squids current http version. 2.x has upgrade_http0.9 which keeps 0.9 in their own major version. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject>  </para></entry><entry colsep="1" rowsep="1"><para> 10 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.2.1 </para></entry><entry colsep="1" rowsep="1"><para> handle the URI of any resource served out (read proxied) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> 4KB </para></entry><entry colsep="1" rowsep="1"><para> 8KB </para></entry><entry colsep="1" rowsep="1"><para> 11 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.2.1 </para></entry><entry colsep="1" rowsep="1"><para> handle unbounded length URI's if we allow long GET requests </para></entry><entry colsep="1" rowsep="1"><para> we set an upper limit on URI's </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 12 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.2.1 </para></entry><entry colsep="1" rowsep="1"><para> return 414 for URI's longer than we can actually handle </para></entry><entry colsep="1" rowsep="1"><para> use caution handling URI's more than 255 bytes long - old clients or downstream proxies may break. Hno - we currently return some other error code </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 13 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.2.2 </para></entry><entry colsep="1" rowsep="1"><para> avoid using ip address's in generated URL's </para></entry><entry colsep="1" rowsep="1"><para> squids host name is used </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 14 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.2.2 </para></entry><entry colsep="1" rowsep="1"><para> add / to http urls that have no abs_path; and if generating requests include the / </para></entry><entry colsep="1" rowsep="1"><para> done when sending to origin, not when sending to another proxy </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 15 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 3.2.2 </para></entry><entry colsep="1" rowsep="1"><para> change the hostname in a request with a FQDN in it </para></entry><entry colsep="1" rowsep="1"><para> redirectors can violate this </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 16 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 3.2.2 </para></entry><entry colsep="1" rowsep="1"><para> add squids domain to the hostname that are not fully qualified in requests received by squid </para></entry><entry colsep="1" rowsep="1"><para>  append_domain </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 17 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.2.3 </para></entry><entry colsep="1" rowsep="1"><para> compare URI's by case-sensitive octet-by-octet comparison of the entire URI. </para></entry><entry colsep="1" rowsep="1"><para> empty or absent ports are equivalent to the default for that resource; empty abs_path =&quot;/&quot; </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 18 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.2.3 </para></entry><entry colsep="1" rowsep="1"><para> compare hostnames in URI's case-insensitively </para></entry><entry colsep="1" rowsep="1"/></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 19 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.2.3 </para></entry><entry colsep="1" rowsep="1"><para> compare scheme names in URI's case-insensitively </para></entry><entry colsep="1" rowsep="1"/></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 20 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.2.3 </para></entry><entry colsep="1" rowsep="1"><para> match % HEX HEX encoded characters with those outside the reserved and unsafe sets when comparing URI's </para></entry><entry colsep="1" rowsep="1"><para> ie <ulink url="http://abc.com:80/~smith/home.html;"/> <ulink url="http://ABC.com/~smith/home.html;">http://ABC.com/%7Esmith/home.html;</ulink> <ulink url="http://ABC.com:/~smith/home.html">http://ABC.com:/%7esmith/home.html</ulink> match </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 21 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.3.1 </para></entry><entry colsep="1" rowsep="1"><para> handle the three date formats of HTTP/1.0 </para></entry><entry colsep="1" rowsep="1"><para> robustness is encouraged <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/smile.png" width="15"/></imageobject><textobject><phrase>:)</phrase></textobject></inlinemediaobject> </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 22 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.3.1 </para></entry><entry colsep="1" rowsep="1"><para> only generate dates in rfc 1123 format </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 23 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.3.1 </para></entry><entry colsep="1" rowsep="1"><para> generate all dates in GMT (UTC) time. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 24 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.3.1 </para></entry><entry colsep="1" rowsep="1"><para> assume GMT time when reading asctime format </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 25 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.3.1 </para></entry><entry colsep="1" rowsep="1"><para> not add LWS to the HTTP-date format other than that specifically included in the grammar </para></entry><entry colsep="1" rowsep="1"/></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 26 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.4 </para></entry><entry colsep="1" rowsep="1"><para> specify the mapping associated with a MIME character set name when using MIME character sets </para></entry><entry colsep="1" rowsep="1"><para> error pages specify the charset &amp; possibly other places </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 27 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.4 </para></entry><entry colsep="1" rowsep="1"><para> limit the use of MIME character sets to IANA registry defined character sets </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 28 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 3.4.1 </para></entry><entry colsep="1" rowsep="1"><para> include a charset parameter even when the charset is ISO-8559-1 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 29 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.4.1 </para></entry><entry colsep="1" rowsep="1"><para> include a charset parameter even when the charset is ISO-8559-1 when we know we will not confuse the client </para></entry><entry colsep="1" rowsep="1"><para> not done </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 30 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.4.1 </para></entry><entry colsep="1" rowsep="1"><para> for the 'client' respect the charset label provided by the sender. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 31 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 3.5 </para></entry><entry colsep="1" rowsep="1"><para> create responses with Content-Encoding: identity </para></entry><entry colsep="1" rowsep="1"><para> should do now </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para>N/A </para></entry><entry colsep="1" rowsep="1"><para>N/A </para></entry><entry colsep="1" rowsep="1"><para> 32 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.5 </para></entry><entry colsep="1" rowsep="1"><para> register new content-coding value tokens with IANA </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para>N/A </para></entry><entry colsep="1" rowsep="1"><para>N/A </para></entry><entry colsep="1" rowsep="1"><para> 33 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.5 </para></entry><entry colsep="1" rowsep="1"><para> make publicly available specifications for new content-coding value tokens which conform to the purpose of content coding as per section 3.5 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 34 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.6 </para></entry><entry colsep="1" rowsep="1"><para> when a transfer-coding is applied, include &quot;chunked&quot; in the set of transfer codings unless the message is terminated by closing the connection. </para></entry><entry colsep="1" rowsep="1"><para> hno - check the te branch </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 35 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 3.6 </para></entry><entry colsep="1" rowsep="1"><para> applied &quot;chunked&quot; more than once to a message-body </para></entry><entry colsep="1" rowsep="1"><para> hno - check the te branch </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para>N/A </para></entry><entry colsep="1" rowsep="1"><para>N/A </para></entry><entry colsep="1" rowsep="1"><para> 36 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.6 </para></entry><entry colsep="1" rowsep="1"><para> register new transfer-encodings with IANA (as per section 3.5 for content-codings </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 37 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.6 </para></entry><entry colsep="1" rowsep="1"><para> return 501 and close the connection when client entity-bodies are received that squid doesn't understand the transfer-codings of. </para></entry><entry colsep="1" rowsep="1"><para> hno - check the te branch </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 38 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 3.6 </para></entry><entry colsep="1" rowsep="1"><para> send transfer-codings (TE or Transfer-Encoding headers) to HTTP/1.0 clients </para></entry><entry colsep="1" rowsep="1"><para> hno - check the te branch </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 39 </para></entry><entry colsep="1" rowsep="1"><para> OPTIONAL </para></entry><entry colsep="1" rowsep="1"><para> 3.6.1 </para></entry><entry colsep="1" rowsep="1"><para> send a trailer after sending chunked transfer encoded messages </para></entry><entry colsep="1" rowsep="1"><para> hno - check the te branch </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 40 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 3.6.1 </para></entry><entry colsep="1" rowsep="1"><para> put headers in the trailer unless a) the request included a TE header that indicates trailers is acceptable in the transfercoding (see 14.39) or b) the server is the origin, (and paraphrasing) the trailers are not needed to use the response) </para></entry><entry colsep="1" rowsep="1"><para> hno - check the te branch </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 41 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.6.1 </para></entry><entry colsep="1" rowsep="1"><para> understand &quot;chunked&quot; transfer-coding </para></entry><entry colsep="1" rowsep="1"><para> hno - check the te branch </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 42 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.6.1 </para></entry><entry colsep="1" rowsep="1"><para> ignore chunk-extensions not understood </para></entry><entry colsep="1" rowsep="1"><para> hno - check the te branch </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 43 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 3.7 </para></entry><entry colsep="1" rowsep="1"><para> use LWS between the type and sub type in media-types, or between attribute and values </para></entry><entry colsep="1" rowsep="1"><para> does now for squid generated headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 44 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.7 </para></entry><entry colsep="1" rowsep="1"><para> when sending to older applications (&lt; HTTP/1.1) only use media types when required by the type/subtype definition </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 45 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.7.1 </para></entry><entry colsep="1" rowsep="1"><para> represent entity-bodies in canonical media-type form (except &quot;text&quot; types). </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 46 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.7.1 </para></entry><entry colsep="1" rowsep="1"><para> represent entity-bodies in canonical media-type form (except &quot;text&quot; types) prior to content-coding them </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 47 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.7.1 </para></entry><entry colsep="1" rowsep="1"><para> label data in charsets other than ISO-8859-1&quot; with an appropriate charset value. </para></entry><entry colsep="1" rowsep="1"><para> see rfc 2616 section 3.4.1 for compatibility notes </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 48 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.7.2 </para></entry><entry colsep="1" rowsep="1"><para> include a boundary parameter as part of the media type value for multipart media types </para></entry><entry colsep="1" rowsep="1"><para> hno - squid does not generate or touch mulipart entries. Rbc - we may need to with TE content. Ermm, </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 49 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.7.2 </para></entry><entry colsep="1" rowsep="1"><para> only use CRLF in multipart messages to represent line breaks between body-parts. </para></entry><entry colsep="1" rowsep="1"><para> hno - squid does not generate or touch mulipart entries. Rbc - we may need to with TE content. Ermm, </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 50 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.7.2 </para></entry><entry colsep="1" rowsep="1"><para> have the epilogue of multipart messages empty </para></entry><entry colsep="1" rowsep="1"><para> hno - squid does not generate or touch mulipart entries. Rbc - we may need to with TE content. Ermm, </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 51 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 3.7.2 </para></entry><entry colsep="1" rowsep="1"><para> transmit the epligoue of multipart messages (even if given one) </para></entry><entry colsep="1" rowsep="1"><para> hno - squid does not generate or touch mulipart entries. Rbc - we may need to with TE content. Ermm, </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 52 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.7.2 </para></entry><entry colsep="1" rowsep="1"><para> follow the same behaviour as a MIME agent when receiving a multipart message-body. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 53 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.7.2 </para></entry><entry colsep="1" rowsep="1"><para> treat unrecognized multipart subtypes as &quot;multipart/mixed&quot; </para></entry><entry colsep="1" rowsep="1"><para> see rfc 1867 for multipart/form-data definition </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 54 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.8 </para></entry><entry colsep="1" rowsep="1"><para> use short to the point product-tokens </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 55 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 3.8 </para></entry><entry colsep="1" rowsep="1"><para> use product tokens for advertising or non-essential info </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 56 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 3.8 </para></entry><entry colsep="1" rowsep="1"><para> use any token character in  a product-version </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 57 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.8 </para></entry><entry colsep="1" rowsep="1"><para> only use product-version tokens for a specific version </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 58 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.8 </para></entry><entry colsep="1" rowsep="1"><para> only change the product-version portion of a product value when changing version numbers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 59 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 3.9 </para></entry><entry colsep="1" rowsep="1"><para> generate more than 3 digits after the decimal point in quality values </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 60 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 3.9 </para></entry><entry colsep="1" rowsep="1"><para> limit user configuration to 3 digits on quality values </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/tired.png" width="15"/></imageobject><textobject><phrase>|)</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 61 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.10 </para></entry><entry colsep="1" rowsep="1"><para> use rfc 1766 language tags in the accept-language and content-language fields </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 62 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 3.11 </para></entry><entry colsep="1" rowsep="1"><para> provide the same &quot;strong&quot; entity tag for two resources only if they are equivalent by octet equality </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 63 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 3.11 </para></entry><entry colsep="1" rowsep="1"><para> provide the same &quot;weak&quot; entity tag for two resources only if they are equivalent and can be substituted with no significant semantic changes </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 64 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 3.11 </para></entry><entry colsep="1" rowsep="1"><para> when giving entity tags provide unique entity tags for all versions of entities associated with a particular resource </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 65 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 3.11 </para></entry><entry colsep="1" rowsep="1"><para> provide the same entity tag value for different resource URIs  - note that this does no imply entity equivalence across resources </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 66 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 3.12 </para></entry><entry colsep="1" rowsep="1"><para> ignore unrecognized ranges specified with units other than &quot;bytes&quot; </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 67 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 4.1 </para></entry><entry colsep="1" rowsep="1"><para> ignore empty lines where the Request-Line is expected </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 68 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 4.1 </para></entry><entry colsep="1" rowsep="1"><para> preface or follow a request with an extra CRLF </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 69 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 4.2 </para></entry><entry colsep="1" rowsep="1"><para> precede header field values with LWS - although a single SP is preferred </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 70 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.2 </para></entry><entry colsep="1" rowsep="1"><para> precede extra lines in header fields with a  single SP or HT </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 71 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 4.2 </para></entry><entry colsep="1" rowsep="1"><para> replace LWS in field values with a single SP </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 72 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 4.2 </para></entry><entry colsep="1" rowsep="1"><para> remove leading or trailing LWS on header fields </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 73 </para></entry><entry colsep="1" rowsep="1"><para> recommendation </para></entry><entry colsep="1" rowsep="1"><para> 4.2 </para></entry><entry colsep="1" rowsep="1"><para> send general-headers, then request/response headers, and then entity-headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 74 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.2 </para></entry><entry colsep="1" rowsep="1"><para> when generating multiple message header fields with the same field-name, be possible for the client or downstream to combine by appending &quot;, field-value&quot; in the order received to generate one long header-field </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 75 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 4.2 </para></entry><entry colsep="1" rowsep="1"><para> alter the order on multiple message headers with the same field-name </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 76 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.3 </para></entry><entry colsep="1" rowsep="1"><para> use Transfer-Encoding to indicate any transfer encodings used when transmitting messages. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 77 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 4.3 </para></entry><entry colsep="1" rowsep="1"><para> add or remove Transfer-Encoding along the request chain (ie receive a message as a plain entity-body and transfer-encode via gzip for transmission downstream </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 78 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 4.3 </para></entry><entry colsep="1" rowsep="1"><para> include a message-body in a request if the request-method does not allow it </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 79 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 4.3 </para></entry><entry colsep="1" rowsep="1"><para> read and forward message-bodies on any request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 80 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 4.3 </para></entry><entry colsep="1" rowsep="1"><para> ignore message-bodies when semantics for the requests method do not define a message-body </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 81 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 4.3 </para></entry><entry colsep="1" rowsep="1"><para> include a message-body in a response to a HEAD request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 82 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 4.3 </para></entry><entry colsep="1" rowsep="1"><para> include a message body in 1xx responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 82 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 4.3 </para></entry><entry colsep="1" rowsep="1"><para> include a message body in 204 responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 82 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 4.3 </para></entry><entry colsep="1" rowsep="1"><para> include a message body in 304 responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 83 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.3 </para></entry><entry colsep="1" rowsep="1"><para> include a message body in all other responses, although it MAY be zero length </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 84 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.4 </para></entry><entry colsep="1" rowsep="1"><para> assume message termination by the first empty line after the header fields in responses that &quot;MUST NOT&quot; have message bodies (ie 1xx, 204, 304 and HEAD requests) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 85 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 4.4 </para></entry><entry colsep="1" rowsep="1"><para> send a Content-Length header if the entity-length and the transfer-length are not equal </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 86 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.4 </para></entry><entry colsep="1" rowsep="1"><para> ignore the Content-Length header if a Transfer-Encoding header is received </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 87 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 4.4 </para></entry><entry colsep="1" rowsep="1"><para> send media type multipart/byteranges unless we know the recipient can parse it. </para></entry><entry colsep="1" rowsep="1"><para> the presence of a Range header with multiple byte-range specifiers from a 1.1 client implies that the client can parse these responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 88 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.4 </para></entry><entry colsep="1" rowsep="1"><para> delimit the response message by one of 1) the first empty line if no message body defined(see 4.3), 3) Content-Length header or 5) close the connection when sending a response of type multipart/byteranges to a 1.0 Proxy which forwarded the request from a client that does understand </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 89 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.4 </para></entry><entry colsep="1" rowsep="1"><para> include a Content-Length header in requests containing a message body unless the server is known to be 1.1 compliant. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 90 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 4.4 </para></entry><entry colsep="1" rowsep="1"><para> return 400 bad request if it cannot determine the length of a request message or 411 if we wish to enforce receiving a valid content-length </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 91 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 4.4 </para></entry><entry colsep="1" rowsep="1"><para> include both Content-Length and a non-identity transfer coding. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 92 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.4 </para></entry><entry colsep="1" rowsep="1"><para> ignore the Content-Length header if a non-identity Transfer-Encoding is received. (perhaps covering for TE instead of Transfer-Encoding??) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 93 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.4 </para></entry><entry colsep="1" rowsep="1"><para> IF we are acting like a user agent - ie 'client' - notify the user when an invalid length is received and detected - ie Content-Length does not match the number of octects in the message-body. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 94 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.4 </para></entry><entry colsep="1" rowsep="1"><para> when sending a response where a message body is allowed and we include Content-Length, it's value must match the number of OCTECTS in the message-body </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 95 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 4.5 </para></entry><entry colsep="1" rowsep="1"><para> treat unrecognized header fields as enitity header fields </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 96 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 5.1.1 </para></entry><entry colsep="1" rowsep="1"><para> return 405 if a request method is recognized but not allowed </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 97 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 5.1.1 </para></entry><entry colsep="1" rowsep="1"><para> return 501 if a request method is not implemented </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 98 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 5.1.1 </para></entry><entry colsep="1" rowsep="1"><para> support GET and HEAD for squid generated pages </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 99 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 5.1.1 </para></entry><entry colsep="1" rowsep="1"><para> implementh other methods beyond GET and HEAD in accordance with rfc 2616 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 100 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 5.1.1 </para></entry><entry colsep="1" rowsep="1"><para> recognize all squid server names, including any aliases, local variations, and the numeric IP address </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 101 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 5.1.1 </para></entry><entry colsep="1" rowsep="1"><para> accept absolute URI's for all requests. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 102 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 5.1.1 </para></entry><entry colsep="1" rowsep="1"><para> forward requests to other proxies or to the origin server. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 103 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 5.1.2 </para></entry><entry colsep="1" rowsep="1"><para> decode URI's with % HEX HEX format before interpreting the request. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 104 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 5.1.2 </para></entry><entry colsep="1" rowsep="1"><para> return appropriate status codes to invalid Request-URIs </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 105 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 5.1.2 </para></entry><entry colsep="1" rowsep="1"><para> in transparent mode; rewrite the abs_path in the Request-URI (other than replacing a null abs_path with &quot;/&quot;) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 106 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 5.2 </para></entry><entry colsep="1" rowsep="1"><para> for absolute Request-URI's ignore any host header field in the request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 107 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 5.2 </para></entry><entry colsep="1" rowsep="1"><para> for non-absolute Request-URI's with a host header use the host head field value </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 108 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 5.2 </para></entry><entry colsep="1" rowsep="1"><para> for non-absolute Request-URI's with no host header return 400 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 109 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 5.2 </para></entry><entry colsep="1" rowsep="1"><para> generate responses with CR or LF except at the end of the status line </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 110 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 6.1 </para></entry><entry colsep="1" rowsep="1"><para> understand the class of status codes (the 1st digit) and treat unrecognized responses as x00. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 111 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 6.1 </para></entry><entry colsep="1" rowsep="1"><para> cache responses with unrecognized status codes </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 112 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 7 </para></entry><entry colsep="1" rowsep="1"><para> transmit an entity if not otherwise restricted by the request method or response code </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 113 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 7.1 </para></entry><entry colsep="1" rowsep="1"><para> in transparent mode: forward unrecognized header fields </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 114 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 7.2.1 </para></entry><entry colsep="1" rowsep="1"><para> include a Content-Type header for generated HTTP/1.1 messages w/entity bodies </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 115 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 7.2.1 </para></entry><entry colsep="1" rowsep="1"><para> treat unknown media-types as application/octet-stream </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 116 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.1 </para></entry><entry colsep="1" rowsep="1"><para> implement HTTP/1.1 persistent connections </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/redface.png" width="15"/></imageobject><textobject><phrase>:o</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 117 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2 </para></entry><entry colsep="1" rowsep="1"><para> assume http/1.1 servers will maintain persistent connections even after error responses from the server </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 118 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2 </para></entry><entry colsep="1" rowsep="1"><para> send more requests on a connection after a close is signaled </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 119 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.1 </para></entry><entry colsep="1" rowsep="1"><para> Assume a HTTP/1.1 client intends to maintain a persistent connection unless a Connection header with token close was received in the request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 120 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.1 </para></entry><entry colsep="1" rowsep="1"><para> Send a Connection header with token close if we want to close the client side connection immediately after sending the response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 121 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.1 </para></entry><entry colsep="1" rowsep="1"><para> expect a connection to remain open - but decide based on the server response (does it have a connection header with token close)? </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 122 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.1 </para></entry><entry colsep="1" rowsep="1"><para> send a Connection header with token close if we want to only send one request and then close the server side connection </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 123 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.1 </para></entry><entry colsep="1" rowsep="1"><para> assume a persistent connection is maintained for pre-HTTP/1.1 versions unless it is explicitly signaled. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 124 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.1 </para></entry><entry colsep="1" rowsep="1"><para> always create messages with self-defined message lengths </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 125 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.2 </para></entry><entry colsep="1" rowsep="1"><para> pipeline requests to upstream servers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 126 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.2 </para></entry><entry colsep="1" rowsep="1"><para> send responses to pipelined requests in the order that the requests were received </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 127 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.2 </para></entry><entry colsep="1" rowsep="1"><para> if we assume persistent connections to servers, and pipeline immediately after connection, be prepared to retry the connection if the first pipelined attempt fails </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 128 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.2 </para></entry><entry colsep="1" rowsep="1"><para> when retrying a failed (if we assume persistent connections to servers, and pipeline immediately after connection, be prepared to retry the connection if the first pipelined attempt fails) pipeline before we know the connection is persistent </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 129 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.2 </para></entry><entry colsep="1" rowsep="1"><para> be prepared to resend requests if a server closes the connection before sending all the pipelined requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 130 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.2 </para></entry><entry colsep="1" rowsep="1"><para> pipeline non idempotent methods or non-idempotent sequences of methods. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 131 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.2.2 </para></entry><entry colsep="1" rowsep="1"><para> wait to send non-idempotent requests after receiving the response status for the previous request </para></entry><entry colsep="1" rowsep="1"><para> note: this may be a non-issue for us. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 132 </para></entry><entry colsep="1" rowsep="1"><para> recommendation </para></entry><entry colsep="1" rowsep="1"><para> 8.1.3 </para></entry><entry colsep="1" rowsep="1"><para> implement the Connection header field properly </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 133 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 8.1.3 </para></entry><entry colsep="1" rowsep="1"><para> signal persistent connections separately with clients and upstream servers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 134 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.1.3 </para></entry><entry colsep="1" rowsep="1"><para> establish a HTTP/1.1 persistent connection with a HTTP/1.0 client </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 135 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.4 </para></entry><entry colsep="1" rowsep="1"><para> issue a graceful close on the transport connection when timing out persistent connections </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 136 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.4 </para></entry><entry colsep="1" rowsep="1"><para> watch persistent connections for close signals and respond to it as appropriate </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 137 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 8.1.4 </para></entry><entry colsep="1" rowsep="1"><para> close any connection at any time. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 138 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 8.1.4 </para></entry><entry colsep="1" rowsep="1"><para> be able to recover from asynchronous close events. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 139 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.4 </para></entry><entry colsep="1" rowsep="1"><para> after an asynchronous close event reopen the transport connection and retransmit the aborted sequence automatically as long as the request is idempotent </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 140 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.1.4 </para></entry><entry colsep="1" rowsep="1"><para> after an asynchronous close event reopen the transport connection and retransmit the aborted sequence automatically if the request is non-idempotent </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 141 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.4 </para></entry><entry colsep="1" rowsep="1"><para> always respond to at least one request per connection if possible </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 142 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.1.4 </para></entry><entry colsep="1" rowsep="1"><para> close a connection in the middle of transmitting a response, unless network or client failure is suspected </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 143 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.4 </para></entry><entry colsep="1" rowsep="1"><para> for the client program - limit the number of simultaneous connections maintained to a given server. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 144 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.1.4 </para></entry><entry colsep="1" rowsep="1"><para> for the client program - maintain more than 2 connections with any given server or proxy </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 145 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.1.4 </para></entry><entry colsep="1" rowsep="1"><para> for the proxy - use up to 2*N with another server or proxy, when N is the number of simultaneous connected active users </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 146 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.2.1 </para></entry><entry colsep="1" rowsep="1"><para> maintain persistent connections and use TCP flow control to resolve link congestion rather than terminating connections abruptly </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 147 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.2.2 </para></entry><entry colsep="1" rowsep="1"><para> when sending message-bodies monitor the net connection for error's. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 148 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.2.2 </para></entry><entry colsep="1" rowsep="1"><para> when sending message-bodies and a net error is detected immediately cease transmitting the body. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 149 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 8.2.2 </para></entry><entry colsep="1" rowsep="1"><para> when sending message-bodies using &quot;chunked&quot; encoding and a net error is detected immediately cease transmitting the body &amp; mark the termination with a zero length chunk and an empty trailer </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 150 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 8.2.2 </para></entry><entry colsep="1" rowsep="1"><para> when sending message-bodies preceded by a content-length header and a net error is detected immediately cease transmitting the body and close the connection </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 151 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the client program - if waiting for 100 before sending the request body send an Expect request-header with the &quot;100-continue&quot; expectation </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 152 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the client program - send an Expect request-header with the &quot;100-continue&quot; expectation if we do not intend to send a request body </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 153 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the client program - if waiting for 100 before sending the request body, do not wait for an indefinite period before sending the request body </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 154 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - when we receive a request with an Expect request-header with the 100-continue expectation, respond with status 100 and continue reading from the input stream, or response with a final status code </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 155 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - when we receive a request with an Expect request-header with the 100-continue expectation, wait for the request body before sending the 100 response. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 156 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - when we receive a request with an Expect request-header with the 100-continue expectation and send a final status code, close the transport connection </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 157 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - when we receive a request with an Expect request-header with the 100-continue expectation and send a final status code, finish reading the request (and discard it) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 158 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - when we receive a request with an Expect request-header with the 100-continue expectation and send a final status code, finish reading the request and perform the requested method </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 159 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - send a 100 continue status if the request header does not include an Expect request header with the 100-continue expectation </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 160 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - send a 100 continue status if the request comer from a pre HTTP/1.1 client. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 161 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - send a 100 continue status in response to a (only) HTTP/1.1 PUT or POST request that does not include an expect header with the 100-continue expectation </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 162 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - omit a 100 continue status if some or all of the request body has already been received </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 163 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - send a final status code after one or more 100 codes, unless the transport connection is terminated prematurely </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 164 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - close the transport connection we are receiving a request body on until the entire request is read or the client closes the connection even if we have already sent a final status code </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 165 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> when receiving a request with an Expect header with the 100-continue expectation and the next-hop server is HTTP/1.1 or higher, or version unknown, forward the request including the Expect header field </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 166 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> when receiving a request with an Expect header with the 100-continue expectation and the next-hop server is HTTP/1.0 or lower, forward the request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 167 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> when receiving a request with an Expect header with the 100-continue expectation and the next-hop server is HTTP/1.0 or lower respond with 417 status </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 168 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> cache the http version of recently access next hop servers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 169 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.2.3 </para></entry><entry colsep="1" rowsep="1"><para> forward a 100 response if the request was received from a HTTP/1.0 or earlier client and did not include an expect header field with the 100 continue expectation </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 170 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.2.4 </para></entry><entry colsep="1" rowsep="1"><para> retry requests sent when the connection closes before receiving any status from the server AND there was a request body AND the request did not have an Expect field with expectation 100-continue AND we are not &quot;directly connected to an HTTP/1.1 origin server&quot; </para></entry><entry colsep="1" rowsep="1"><para> I don't know what the the &quot;directly.. Really means&quot; </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 171 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 8.2.4 </para></entry><entry colsep="1" rowsep="1"><para> Time &quot;retry requests sent when the connection closes before receiving any status from the server AND there was a request body AND the request did not have an Expect field with expectation 100-continue AND we are not &quot;directly connected to an HTTP/1.1 origin server&quot; &quot; with a binary exponential backoff algorithm </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 172 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 8.2.4 </para></entry><entry colsep="1" rowsep="1"><para> continue retrying requests as per rfc 8.2.4 when an error status is received </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 173 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 8.2.4 </para></entry><entry colsep="1" rowsep="1"><para> close the connection if the request has not completed sending when we are (retrying requests as per rfc 8.2.4 when an error status is received) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 174 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 9 </para></entry><entry colsep="1" rowsep="1"><para> send the Host request-header field with ALL HTTP/1.1 requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 175 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.1.1 </para></entry><entry colsep="1" rowsep="1"><para> use GET and HEAD methods for anything other than retrieval (no side effects by squid) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 176 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.1.2 </para></entry><entry colsep="1" rowsep="1"><para> have side effects caused when receiving requests to squid with OPTIONS or TRACE as the method </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 177 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> cache the results from an OPTIONS request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 178 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> for the client program - include a content type field when sending an OPTIONS request with an entity body </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 179 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - discard the request body from OPTIONS requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 180 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> 200 responses to the method OPTIONS should include any header fields that indicate optional features implemented by the server and applicable to that resource (eg Allow) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 181 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> 200 responses to the method OPTIONS with a  message body should include information about the communications options </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 182 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> use content-negotiation to select the format for information about the message body in 200 responses to the method OPTIONS </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 183 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> include a Content-length header value of 0 or a response body in 200 responses to the method OPTIONS </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 184 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> for the client program - use the Max-Forwards request-header to target a specific proxy in the request chain. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 185 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> check for a Max-Forwards field when squid receives an OPTIONS request on an absoluteURI for which request forwarding is permitted </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 186 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> forward a request with a Max-Forwards field when squid receives an OPTIONS request on an absoluteURI for which request forwarding is permitted and the value of Max-Forwards is 0. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 187 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> response with Squids communications options to an OPTIONS request with a Max-Forwards field on an absoluteURI for which request forwarding is permitted and the value of Max-Forwards is 0. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 188 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> decrement the Max-Forwards field-value when forwarding an OPTIONS request with a Max-Forwards field on an absoluteURI for which request forwarding is permitted and the value of Max-Forwards is a non zero integer. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 189 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.2 </para></entry><entry colsep="1" rowsep="1"><para> add a Max-Forwards header to an OPTIONS request if non is present when squid recieves it </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 190 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.3 </para></entry><entry colsep="1" rowsep="1"><para> cache a GET response if it does not meet the HTTP caching requirements from rfc 2616 section 13 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 191 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.4 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - generate a message-body in HEAD responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 192 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 9.4 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - generate identical http headers for a HEAD request to the equivalent GET request. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 193 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 9.4 </para></entry><entry colsep="1" rowsep="1"><para> update previously cached entities with the headers from a HEAD requests' response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 194 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 9.4 </para></entry><entry colsep="1" rowsep="1"><para> mark as stale cached entities where a HEAD requests' response indicate a change in the entity (as indicated by a change in Content-Length, Content-MD5, Etag or Last-Modified) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 195 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 9.5 </para></entry><entry colsep="1" rowsep="1"><para> follow the section 8.2 message transmission requirements for POST requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 196 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.5 </para></entry><entry colsep="1" rowsep="1"><para> cache POST responses unless they include appropriate cache-control or Expires headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 197 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 9.6 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - handling PUT requests - I skipped these as the cachmgr interface has not file storage capability </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 198 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 9.6 </para></entry><entry colsep="1" rowsep="1"><para> treat any cached entities that match the Request URI of a PUT request as stale </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 199 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 9.6 </para></entry><entry colsep="1" rowsep="1"><para> follow the section 8.2 message transmission requirements for PUT requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 200 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.6 </para></entry><entry colsep="1" rowsep="1"><para> cache responses to PUT Method requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 201 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 9.7 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - handling DELETE requests - I skipped these as the cachmgr interface has not file storage capability </para></entry><entry colsep="1" rowsep="1"><para>  maybe we could use DELETE squid-server/http///originaluri to allow removal of cached entities via the web? </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 202 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 9.7 </para></entry><entry colsep="1" rowsep="1"><para> treat any cached entities that match the Request URI of a DELETE request as stale </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 203 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.7 </para></entry><entry colsep="1" rowsep="1"><para> cache responses to DELETE Method requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 204 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.8 </para></entry><entry colsep="1" rowsep="1"><para> for the squid client - create TRACE requests with an entity </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 205 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 9.8 </para></entry><entry colsep="1" rowsep="1"><para> reflect back to the client the TRACE message received (when the Max-forwards value is 0) as the entity-body of a 200 response. The entity body is to have content type message/http </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 206 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 9.8 </para></entry><entry colsep="1" rowsep="1"><para> cache responses to TRACE Method requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 207 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.1 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - send 1xx response codes to &lt; HTTP/1.1 clients </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 208 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.1 </para></entry><entry colsep="1" rowsep="1"><para> for the client - be prepared to accept one or more 1xx status responses prior to a regular response, even if the client does not expect a 100 status message </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 209 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.1 </para></entry><entry colsep="1" rowsep="1"><para> forward 1xx responses unless the connection squid-client has been closed, or squid requested the generation of the 1xx response. (I.e, squid added expect: 100-continue then squid does not need to forward the 100 response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 210 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 10.1.1 </para></entry><entry colsep="1" rowsep="1"><para> for the client when getting a 100-continue responses should continue with the request or ignore if the request has been completed. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 211 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.1.1 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - send a final response after handling the request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 212 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 10.1.2 </para></entry><entry colsep="1" rowsep="1"><para> only upgrade protocols when it is advantageous to do so. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 213 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.2.2 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - handling PUT requests - I skipped these as the cachmgr interface has not file storage capability </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 214 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.2.5 </para></entry><entry colsep="1" rowsep="1"><para> terminate 204 responses by the first empty line after the header field </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 215 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.2.6 </para></entry><entry colsep="1" rowsep="1"><para> include entities in 205 responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 216 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.2.7 </para></entry><entry colsep="1" rowsep="1"><para> combine 206 responses with older content for the same entity unless the Etag or Last-Modified headers match exactly </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 217 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.2.7 </para></entry><entry colsep="1" rowsep="1"><para> cache 206 responses unless we support Range and Content-Range headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 218 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.2.7 </para></entry><entry colsep="1" rowsep="1"><para> include the following headers in 206 responses downstream - Content-Range or a multipart/byteranges content-type with content-range for each part.; Date ; Etag and/or Content-Location; Expires/cache0control and/or vary if the field value might differ from that send in any previous request for the same variant </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 219 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.2.7 </para></entry><entry colsep="1" rowsep="1"><para> 206 responses to requests with if-range &amp; strong validator - should not have other entity headers; if-range and weak validator - MUST NOT have other entity headers; other wise include all entity headers a 200 response would have given to the same request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 220 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 10.3.2 </para></entry><entry colsep="1" rowsep="1"><para> cache 301 responses unless otherwise indicated </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 221 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.3.2 </para></entry><entry colsep="1" rowsep="1"><para> cache 301 responses to requests other than GET or HEAD </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 222 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.3.3 </para></entry><entry colsep="1" rowsep="1"><para> cache 302 responses unless indicated by a Cache-Control or Expires header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 223 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.3.3 </para></entry><entry colsep="1" rowsep="1"><para> cache 302 responses to requests other than GET or HEAD </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 224 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.3.4 </para></entry><entry colsep="1" rowsep="1"><para> cache 303 responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 225 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.3.5 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' - in 304  responses include the Date (unless rfc 2616 ection 14.18.1 requires its omission); Etag and/or Content-Location (if a 200 response to same would have those fields); Expires, Cache-Control and/or Vary if the field value might differ from that sent in any previous request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 226 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.3.5 </para></entry><entry colsep="1" rowsep="1"><para> when a 304 response indicates a not-currently-cached entity, disregard the response and repeat the request with no conditions </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 227 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.3.5 </para></entry><entry colsep="1" rowsep="1"><para> when a 304 response is received for a currently cached entity, update the entry with new field values given in the response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 228 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.3.6 </para></entry><entry colsep="1" rowsep="1"><para> when a 305 response is received, repeat that _single_ request via the proxy in 'Location' </para></entry><entry colsep="1" rowsep="1"><para> is this mean for squid to do , or only for the client? What about clients behind firewalls that can only use squid? </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 229 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.3.6 </para></entry><entry colsep="1" rowsep="1"><para> generate 305 responses except from the squid 'server' </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 230 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.3.7 </para></entry><entry colsep="1" rowsep="1"><para> use the 306 status code </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 231 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.4.1 </para></entry><entry colsep="1" rowsep="1"><para> retry requests where 400 was returned unless the client retries </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 232 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.4.4 </para></entry><entry colsep="1" rowsep="1"><para> retry requests where 403 was returned </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 233 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.4.6 </para></entry><entry colsep="1" rowsep="1"><para> include an Allow header listing valid methods for requests where squid creates a 405 method to the client </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 234 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.4.8 </para></entry><entry colsep="1" rowsep="1"><para> return a Proxy-Authenticate header containing a challenge applicable to squid for the requested resource. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 235 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 10.4.9 </para></entry><entry colsep="1" rowsep="1"><para> retry 408 requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 236 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 10.4.10 </para></entry><entry colsep="1" rowsep="1"><para> retry 409 responses automatically </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 237 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 10.4.11 </para></entry><entry colsep="1" rowsep="1"><para> cache 410 responses </para></entry><entry colsep="1" rowsep="1"><para> we should purge cached entity bodies that receive 410 responses. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 238 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 10.4.12 </para></entry><entry colsep="1" rowsep="1"><para> automatically retry a request with a Content-Length header in response to a 411 error </para></entry><entry colsep="1" rowsep="1"><para> unknown </para></entry><entry colsep="1" rowsep="1"/></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 239 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 10.4.12 </para></entry><entry colsep="1" rowsep="1"><para> return a 411 error to the client if we want to be able to filter easily on put and post requests and the client did not use a Content-Length header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 240 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 10.4.14 </para></entry><entry colsep="1" rowsep="1"><para> return a 413 error when the request entity is too large. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 241 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 10.4.14 </para></entry><entry colsep="1" rowsep="1"><para> When returning a 413 error when the request entity is too large and it is a time based (or temporary) restriction, include a Retry-After header indicating when it should be ok </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 242 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 10.4.18 </para></entry><entry colsep="1" rowsep="1"><para> return 417 when we have unambiguous evidence that the expectation given in a request can not be met by the next hop server </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 243 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 10.5 </para></entry><entry colsep="1" rowsep="1"><para> include an entity body when we create 5xx error responses explaining the issue (other than to HEAD requests) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 244 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 10.5.2 </para></entry><entry colsep="1" rowsep="1"><para> return a 501 if we don't implement a given method and can't just proxy it an hope </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 245 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 10.5.3 </para></entry><entry colsep="1" rowsep="1"><para> return a 502 if we get an invalid upstream response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 246 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 10.5.4 </para></entry><entry colsep="1" rowsep="1"><para> return a 503 if we are overloaded, or unable to serve requests due to maintenance. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 247 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 10.5.4 </para></entry><entry colsep="1" rowsep="1"><para> return a Retry-After when returning a 503 if we are overloaded, or unable to serve requests due to maintenance. (the header would indicate when the maintenance should finish </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 248 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 10.5.5 </para></entry><entry colsep="1" rowsep="1"><para> return a 504 on an upstream timeout, or timeout on an auxilary server - ie DNS/authentication helper </para></entry><entry colsep="1" rowsep="1"><para> we may be returning 400 or 500 presently </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/redface.png" width="15"/></imageobject><textobject><phrase>:o</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> 3.1  </para></entry><entry colsep="1" rowsep="1"><para> 249 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 10.5.6 </para></entry><entry colsep="1" rowsep="1"><para> return a 505 if we don't support, (or have #defed it out) the HTTP major version in the request message </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 250 </para></entry><entry colsep="1" rowsep="1"><para> OPTIONAL </para></entry><entry colsep="1" rowsep="1"><para> 11 </para></entry><entry colsep="1" rowsep="1"><para> implement basic and or digest authentication </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/redface.png" width="15"/></imageobject><textobject><phrase>:o</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 251 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 12 </para></entry><entry colsep="1" rowsep="1"><para> use content-negotiation on any entity body request/response - ie in selecting what language the error should be in </para></entry><entry colsep="1" rowsep="1"/></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 252 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 12.1 </para></entry><entry colsep="1" rowsep="1"><para> for the squid client - include request header fields (Accept, Accept-Language, Accept-Encoding etc) in requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 253 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 12.3 </para></entry><entry colsep="1" rowsep="1"><para> develop transparent negotiation capabilities within HTTP/1.1 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 254 </para></entry><entry colsep="1" rowsep="1"><para> recommendation </para></entry><entry colsep="1" rowsep="1"><para> 13 </para></entry><entry colsep="1" rowsep="1"><para> Note: The server, cache, or client implementor might be faced with design decisions not explicitly discussed in this specification. If a decision might affect semantic transparency, the implementor ought to err on the side of maintaining transparency unless a careful and complete analysis shows significant benefits in breaking transparency. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 255 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.1.1 </para></entry><entry colsep="1" rowsep="1"><para> respond to a request with the most up-to-date response held by squid which is appropriate to the request (see 13.2.5,13.2.6,13.12) and meets one of : 1) it has been revalidated with the origin, 2) it is &quot;fresh enough (see 13.12) &amp; 14.9 or 3) it is an appropriate 304/305/ 4xx/5xx response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> 2.7 </para></entry><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 256 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.1.1 </para></entry><entry colsep="1" rowsep="1"><para> If a stored response is not &quot;fresh enough&quot; by the most restrictive freshness requirement of both the client and the origin server, in carefully considered circumstances the cache MAY still return the response with the appropriate Warning header (see section 13.1.5 and 14.46), unless such a response is prohibited (e.g., by a &quot;no-store&quot; cache-directive, or by a &quot;no-cache&quot; cache-request-directive; see section 14.9). </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 257 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 13.1.1 </para></entry><entry colsep="1" rowsep="1"><para> forward received responses even if the response itself is stale without adding a new Warning header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 258 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.1.1 </para></entry><entry colsep="1" rowsep="1"><para> attempt to revalidate responses that become stale in transit to squid </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 259 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 13.1.1 </para></entry><entry colsep="1" rowsep="1"><para> respond as per the 13.1.1 respond rules even if the origin server cannot be contacted. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 260 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.1.1 </para></entry><entry colsep="1" rowsep="1"><para> return an error or warning to the client if the origin server can't be contacted, and no response can be served under the 13.1.1 rules </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 261 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.1.2 </para></entry><entry colsep="1" rowsep="1"><para> attach a warning noting when returning a response that is neither first-hand nor &quot;fresh enough&quot; using the Warning header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 262 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.1.2 </para></entry><entry colsep="1" rowsep="1"><para> delete 1xx warnings from cached responses after successful revalidation </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 263 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.1.2 </para></entry><entry colsep="1" rowsep="1"><para> generate 1xx warnings when validating a cached entry </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 264 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.1.2 </para></entry><entry colsep="1" rowsep="1"><para> delete 2xx warning from cached responses after successful revalidation </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 265 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.1.2 </para></entry><entry colsep="1" rowsep="1"><para> choose the warning text description language (perhaps based on Accept headers) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 266 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.1.2 </para></entry><entry colsep="1" rowsep="1"><para> allow/create responses with multiple warnings, including multiple warnings with the same code </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 267 </para></entry><entry colsep="1" rowsep="1"><para> recommendation </para></entry><entry colsep="1" rowsep="1"><para> 13.1.3 </para></entry><entry colsep="1" rowsep="1"><para> use the most restrictive interpretation of caching issue /spec conflicts </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 268 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.1.5 </para></entry><entry colsep="1" rowsep="1"><para> have squid configurable to return stale responses even when not requested by clients </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 269 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.1.5 </para></entry><entry colsep="1" rowsep="1"><para> mark stale responses with a Warning header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 270 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.1.5 </para></entry><entry colsep="1" rowsep="1"><para> return a stale response if the client explicitly requests a first-hand or fresh one, unless technical or policy reasons require returning a stale response </para></entry><entry colsep="1" rowsep="1"><para> ie: offline mode, refresh to IMS are allowed but MUST require deliberate configuration by the admin </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> N/A </para></entry><entry colsep="1" rowsep="1"><para> N/A </para></entry><entry colsep="1" rowsep="1"><para> 271 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 13.2.3 </para></entry><entry colsep="1" rowsep="1"><para> be running on a host that uses NTP or equivalent for clock synchronization </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 272 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.2.3 </para></entry><entry colsep="1" rowsep="1"><para> calculate corrected_received_age as max(now-date_value, age_value) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 273 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.2.3 </para></entry><entry colsep="1" rowsep="1"><para> interpret Age header values (age_value) relative to the time the request was initiated, not the response time. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 274 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.2.3 </para></entry><entry colsep="1" rowsep="1"><para> calculate corrected_initial_age as corrected_received_age +(now - request_time) ; request_time = time the request was sent upstream </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 275 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.2.3 </para></entry><entry colsep="1" rowsep="1"><para> when sending responses from cached entries include a single Age header with a value equal to current_age (as per 13.2.3 algorithm) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 276 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.2.4 </para></entry><entry colsep="1" rowsep="1"><para> compute freshness lifetime using a heuristic IFF the response has no caching restrictions AND no Expires, Cache-Control: Max-age, Cache-Control: s-maxage exist in the response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 277 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.2.4 </para></entry><entry colsep="1" rowsep="1"><para> attach a Warning 113 to any response when the age_value is more than 24 hours if there is no 113 warning already </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 278 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 13.2.4 </para></entry><entry colsep="1" rowsep="1"><para> use heuristics that use a fraction of the last-modified time (if it exists) - suggested setting of 10% since last-modified </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 279 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.2.5 </para></entry><entry colsep="1" rowsep="1"><para> when two responses exist for a given representation with different validators, use the one with the more recent Date header. </para></entry><entry colsep="1" rowsep="1"><para> ie don't naively assume an incoming response is newer than the entity it is a refresh for </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 280 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 13.2.6 </para></entry><entry colsep="1" rowsep="1"><para> When a revalidation occurs and the responses date header is older than the existing entry, repeat the request unconditionally, with the header Cache-Control: max-age=0 or Cache-Control: no-cache </para></entry><entry colsep="1" rowsep="1"><para> note this is specced as a client requirement - but we have to implement client code as well. Does squid need to do this or let the client do it?? </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 281 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.3.3 </para></entry><entry colsep="1" rowsep="1"><para> use a weak validator in anything other than simple (non-subrange) GET requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 282 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.3.3 </para></entry><entry colsep="1" rowsep="1"><para> consider two validators strongly equal IFF both validators are identical, and both are NOT weak </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 283 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.3.3 </para></entry><entry colsep="1" rowsep="1"><para> consider two validators weakly equal IFF both validators are identical, and one or both are NOT strong </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 284 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.3.3 </para></entry><entry colsep="1" rowsep="1"><para> consider Last-Modified to be a weak validator unless we are comparing it with a cached last-modified date, and the cache entry includes a Date value, and the last-modified is at least 60 seconds before the data value </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 285 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.3.3 </para></entry><entry colsep="1" rowsep="1"><para> when receiving conditional requests the use strong comparison (no weak compares allowed) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 286 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.3.4 </para></entry><entry colsep="1" rowsep="1"><para> return 304 to a conditional request that includes both a last-modified (eg in a IMS or IUS header) and one or more entity tags (eg If-match / IF-None-Match/If-Range) unless the 304 is consistent with all the conditionals present in the request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 287 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.3.4 </para></entry><entry colsep="1" rowsep="1"><para> return a locally cached response to a conditional request that includes both Last-Modified and one or more entity tags as validators unless the cached response is consistent with all present conditionals in the request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 288 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.3.5 </para></entry><entry colsep="1" rowsep="1"><para> use other headers than entity tags and Last-Modified for validation </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 289 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.4 </para></entry><entry colsep="1" rowsep="1"><para> always cache a successful response (unless constrained by 14.9) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 290 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.4 </para></entry><entry colsep="1" rowsep="1"><para> return cached responses without validation while fresh (unless constrained by 14.9) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 291 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.4 </para></entry><entry colsep="1" rowsep="1"><para> return cached responses after succesful validation (unless constrained by 14.9) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 292 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.4 </para></entry><entry colsep="1" rowsep="1"><para> cache responses with no validator or expiration time, but shouldn't do so in normal conditions </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 293 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.4 </para></entry><entry colsep="1" rowsep="1"><para> cache and use as replies, responses with status codes 200, 203, 206, 300, 301 or 410 (subject to expiration &amp; cache-control mechanisms) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 294 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.4 </para></entry><entry colsep="1" rowsep="1"><para> return responses to status codes other than (200, 203, 206, 300, 301 or 410) in a reply to subsequent requests unless there are cache-control directives that explicitly allow it (eg Expires/ a max-age ,  s-maxage, must-revalidate, proxy-revalidate, puvlic or private cache-control header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 295 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.5.1 </para></entry><entry colsep="1" rowsep="1"><para> store end to end headers (headers other than Connection; Keep-Alive ; Proxy-Authenticate ; Proxy-Authorization ; TE ; Trailers ; Transfer-Encoding ; Upgrade) with the cached response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 296 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.5.1 </para></entry><entry colsep="1" rowsep="1"><para> transmit cached end to end headers in any response formed from that cache entry </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 297 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.5.1 </para></entry><entry colsep="1" rowsep="1"><para> list newly defined hop to hop headers under the connection header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 298 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.5.2 </para></entry><entry colsep="1" rowsep="1"><para> modify end to end headers unless the definition of that header specifically allows or requires its modification </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 299 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.5.2 </para></entry><entry colsep="1" rowsep="1"><para> as a transparent proxy; modify (Content-Location; Content-MD5;- Etag; Last-Modified; Expires) headers in a request or response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 300 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.5.2 </para></entry><entry colsep="1" rowsep="1"><para> as a transparent proxy; add an Expires header if not already present in a response, and MUST give it the same value as the Date header of that response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 301 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.5.2 </para></entry><entry colsep="1" rowsep="1"><para> as a transparent proxy; add (Content-Location; Content-MD5;- Etag; Last-Modified) headers in a request or response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 302 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.5.2 </para></entry><entry colsep="1" rowsep="1"><para> as a non-transparent proxy; modify or add (Content-Location; Content-MD5;- Etag; Last-Modified; Expires) headers in a request or response that does not include &quot;no-transform&quot; </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 303 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.5.2 </para></entry><entry colsep="1" rowsep="1"><para> add a warning 214 (if not already present) if we choose to as a non-transparent proxy; modify or add (Content-Location; Content-MD5;- Etag; Last-Modified; Expires) headers in a request or response that does not include &quot;no-transform&quot; </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 304 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.5.2 </para></entry><entry colsep="1" rowsep="1"><para> as a transparent proxy; preserve the entity-length of the entity body in a response/request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 305 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.5.2 </para></entry><entry colsep="1" rowsep="1"><para> as a transparent proxy; change the preserve the transfer-length in a response/request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 306 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.5.3 </para></entry><entry colsep="1" rowsep="1"><para> combine 206 responses with cached content for the same entity as long as the Etag or Last-Modified headers match exactly </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 307 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.5.3 </para></entry><entry colsep="1" rowsep="1"><para> update any end-end headers in cache entries with those from a 304 or 206 response or remove the cache entry </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 308 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.5.3 </para></entry><entry colsep="1" rowsep="1"><para> when combining 206 responses with cached content, remove Warning 1xx headers, retain warning 2xx headers, and use the 206 responses end to end headers in preference to the cached headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 309 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.5.4 </para></entry><entry colsep="1" rowsep="1"><para> combine byte ranges if both the incoming response and the cache entry have validators, and the validators match using the strong comparison </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 310 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.5.4 </para></entry><entry colsep="1" rowsep="1"><para> if a subrange response is received, and with either the incoming response or the cache entry has no validator, or the validators do no compare strongly, only use the most recent (check Date header else the incoming response) partial response and discard the previous partial information </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 311 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.5.6 </para></entry><entry colsep="1" rowsep="1"><para> use a cache entry to construct a response to a request when the response had a Vary header, unless all the listed (by the vary field) request headers match the corresponding cached request headers (match by transforming by insertion of LWS as allowed by the BNF's and or combining message-header fields with the same name as per 4.2 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 312 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.5.6 </para></entry><entry colsep="1" rowsep="1"><para> use a cache entry to construct a response to a request when the response had a Vary header of * without validation by the origin server </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 313 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 13.5.6 </para></entry><entry colsep="1" rowsep="1"><para> if an entity tag is assigned to a cached representation, the forwarded request should be conditional and include the entity tags in an If-None-Match header field from _all_ the cache entries for the resource </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 314 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.5.6 </para></entry><entry colsep="1" rowsep="1"><para> include the entity-tag for a cache entry that only contains partial content in the If-None-Match header unless the request could be satisfied from the cache </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 315 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 13.5.6 </para></entry><entry colsep="1" rowsep="1"><para> delete cache entries when a successful response with a matching Content-Location field, a differing entity-tag and a more recent Date </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 316 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.5.6 </para></entry><entry colsep="1" rowsep="1"><para> use cache entries when a successful response with a matching Content-Location field, a differing entity-tag and a more recent Date to satisfy requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 317 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.8 </para></entry><entry colsep="1" rowsep="1"><para> store incomplete responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 318 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.8 </para></entry><entry colsep="1" rowsep="1"><para> treat incomplete responses as partial responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 319 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.8 </para></entry><entry colsep="1" rowsep="1"><para> return a partial response to a client without marking it as such (using 206 status code) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 320 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.8 </para></entry><entry colsep="1" rowsep="1"><para> return a partial response to a client with status 200 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 321 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.8 </para></entry><entry colsep="1" rowsep="1"><para> forward 5xx responses received while revalidating entries to the client, or act as if the server failed to respond </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 322 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.8 </para></entry><entry colsep="1" rowsep="1"><para> when a server fails to respond, return a cached response unless the cached entry inludes the must-revalidate cache-control directive </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 323 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.9 </para></entry><entry colsep="1" rowsep="1"><para> treat GET and HEAD requests with ? In the URI path as fresh UNLESS explicit exipration times are provided in the response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 324 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.9 </para></entry><entry colsep="1" rowsep="1"><para> cache GET and HEAD responses from HTTP/1.0 servers with ? In the URI path </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 325 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.10 </para></entry><entry colsep="1" rowsep="1"><para> invalidate entities referred to by the Content-Location header;Location header or the Request-URI in PUT/DELETE and POST requests. This is only done for the same host hwn using the Content-Locaiton and Location headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 326 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 13.10 </para></entry><entry colsep="1" rowsep="1"><para> invalidate entities referred to by the Request-URI in non understood methods if we pass them upstream </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 327 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 13.11 </para></entry><entry colsep="1" rowsep="1"><para> pass upstream all methods that may cause alterations to the origin servers resources. (This means all Methods other than GET and HEAD) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 328 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 13.11 </para></entry><entry colsep="1" rowsep="1"><para> respond to a client on all methods that may cause alterations to the origin servers resources. (This means all Methods other than GET and HEAD) before the response from the server arrives. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 329 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.11 </para></entry><entry colsep="1" rowsep="1"><para> respond to a client with a 100 on all methods that may cause alterations to the origin servers resources. (This means all Methods other than GET and HEAD) before the response from the server arrives. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 330 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 13.12 </para></entry><entry colsep="1" rowsep="1"><para> when a new response to an existing cached resource arrives, use the new response to reply to the current request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 331 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.12 </para></entry><entry colsep="1" rowsep="1"><para> when a new response to an existing cached resource arrives, update the cache with the new response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 332 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 13.12 </para></entry><entry colsep="1" rowsep="1"><para> when a new response to an existing cached resource arrives, use it to respond to future requests as appropriate </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 333 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.1 </para></entry><entry colsep="1" rowsep="1"><para> include parameters for media types that support them </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 334 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.1 </para></entry><entry colsep="1" rowsep="1"><para> include accept-params for media types. (q=0 to q=1) (see 3.9) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 335 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.1 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' send 406 if we cannot get an acceptable media type for the client request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 336 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.2 </para></entry><entry colsep="1" rowsep="1"><para> have q values for charsets </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 337 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.2 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' send 406 if we cannot get an acceptable charset for the client request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 338 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.3 </para></entry><entry colsep="1" rowsep="1"><para> have q values for content-coding </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 339 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' send 406 if we cannot get an acceptable content-coding for the client request. Note this is not transfer-coding so we do cannot do this on the fly for the cache </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 340 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.3 </para></entry><entry colsep="1" rowsep="1"><para> assume the client will accept any content coding when no Accept-Encoding header is presented </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 341 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.3 </para></entry><entry colsep="1" rowsep="1"><para> for the squid 'server' send identity content-coding when no Accept-Encoding header is presented </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> N/A </para></entry><entry colsep="1" rowsep="1"><para> N/A </para></entry><entry colsep="1" rowsep="1"><para> 342 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.4 </para></entry><entry colsep="1" rowsep="1"><para> have q values for preferred language </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 343 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.4 </para></entry><entry colsep="1" rowsep="1"><para> assume all languages are ok when there is no header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 344 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.5 </para></entry><entry colsep="1" rowsep="1"><para> for the squid  'server' send  Accept-ranges: none to tell clients not to attempt range requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 345 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.6 </para></entry><entry colsep="1" rowsep="1"><para> when an age header we receive is larger than our largest integer, or if an Age calculation overflows, transmit age of 2147483648 (2^31). </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 346 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.6 </para></entry><entry colsep="1" rowsep="1"><para> use integers of at least 31 bits </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 347 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.7 </para></entry><entry colsep="1" rowsep="1"><para> present an Allow header in 405 responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 348 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.7 </para></entry><entry colsep="1" rowsep="1"><para> modify the allow header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 349 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.8 </para></entry><entry colsep="1" rowsep="1"><para> have a set of credentials valid for an entire realm (including all sub-resources) (ie for web-accel operation) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 350 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.8 </para></entry><entry colsep="1" rowsep="1"><para> return responses with Authorization headers to other requests unless a) cache-control: s-maxage is present or b) cache-control: must-revalidate is presented or c) cache-control: public is present </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 351 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.8 </para></entry><entry colsep="1" rowsep="1"><para> always revalidate responses with cache-control: s-maxage=0 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 352 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.9 </para></entry><entry colsep="1" rowsep="1"><para> follow the cache-control header directives at all times </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 353 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.9 </para></entry><entry colsep="1" rowsep="1"><para> pass cache-control directives through to the next link in the message path (ie don't eat them) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 354 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.9.1 </para></entry><entry colsep="1" rowsep="1"><para> cache responses with cache-control: public even of the header/method might not normally be cacheable </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 355 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.9.1 </para></entry><entry colsep="1" rowsep="1"><para> cache responses with cache-control: private </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 356 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.9.1 </para></entry><entry colsep="1" rowsep="1"><para> use responses with cache-control: no-cache to satisfy other requests without successful revalidation </para></entry><entry colsep="1" rowsep="1"><para> ie auto GET to IMS is allowed </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 357 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.9.1 </para></entry><entry colsep="1" rowsep="1"><para> use responses with cache-control: no-cache to satisfy other requests without successful revalidation if the no-cache directive includes field-names </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 358 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.9.1 </para></entry><entry colsep="1" rowsep="1"><para> send the headers listed in responses with cache-control: no-cache (header…) to satisfy other requests without successful revalidation if the no-cache directive includes field-names </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 359 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.9.2 </para></entry><entry colsep="1" rowsep="1"><para> use no-store on requests or responses to prevent data storage </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 360 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.9.2 </para></entry><entry colsep="1" rowsep="1"><para> store any part of a request or it's response if the cache-control: no-store directive was in the request </para></entry><entry colsep="1" rowsep="1"><para> This directive applies to both non-shared and shared caches. &quot;MUST NOT store&quot; in this context means  that the cache MUST NOT intentionally store the information in  non-volatile storage, and MUST make a best-effort attempt to remove the information from volatile storage as promptly as possible after forwarding it. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 361 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.9.2 </para></entry><entry colsep="1" rowsep="1"><para> store any part of a response or the request that elicited it if the cache-control: no-store directive was in the response </para></entry><entry colsep="1" rowsep="1"><para> This directive applies to both non-shared and shared caches. &quot;MUST NOT store&quot; in this context means  that the cache MUST NOT intentionally store the information in  non-volatile storage, and MUST make a best-effort attempt to remove the information from volatile storage as promptly as possible after forwarding it. </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 362 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.9.3 </para></entry><entry colsep="1" rowsep="1"><para> consider responses with an Expires value that is &lt;= the response date and no cache-control header field to be non-cacheable </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 363 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.9.3 </para></entry><entry colsep="1" rowsep="1"><para> mark stale responses with Warning 110 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 364 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.9.3 </para></entry><entry colsep="1" rowsep="1"><para> have squid configurable to return stale responses even when not requested by clients but responses served MUST NOT conlict with other MUST or MUST NOT requirements </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 365 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.9.4 </para></entry><entry colsep="1" rowsep="1"><para> use a cached copy to respond to a request with cache-control: no-cache or Pragma: no-cache </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 366 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.9.4 </para></entry><entry colsep="1" rowsep="1"><para> response with a cached copy (if possible) or a 504 to a request with cache-control: only if cached. Note we can use a cache farm to get the cached copy </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 367 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.9.4 </para></entry><entry colsep="1" rowsep="1"><para> use stale responses marked with cache-control: must-revalidate after it becomes stale without first revalidating it with the origin </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 368 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.9.4 </para></entry><entry colsep="1" rowsep="1"><para> obey the must-revalidate directive at all times </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 369 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.9.4 </para></entry><entry colsep="1" rowsep="1"><para> return 504 if a must-revalidate directive would need access to an unavailable origin server </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 370 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.9.5 </para></entry><entry colsep="1" rowsep="1"><para> change any headers (or part of the request specified by those headers) from section 13.5.2 when a message with cache-control: no-transform is received </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 371 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.9.6 </para></entry><entry colsep="1" rowsep="1"><para> ignore unrecognized cache-control headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 372 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.10 </para></entry><entry colsep="1" rowsep="1"><para> parse the Connection header before a message is forwarded </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 373 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.10 </para></entry><entry colsep="1" rowsep="1"><para> remove headers from messages that match headers specified in the connection header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 374 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.10 </para></entry><entry colsep="1" rowsep="1"><para> list end to end headers in the connection header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 375 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.10 </para></entry><entry colsep="1" rowsep="1"><para> for applications that do not support persistent connection (ie squid 'server' and client) include Connection: close in every message </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 376 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.10 </para></entry><entry colsep="1" rowsep="1"><para> on pre-http/1.1 messages with a connection header, for each connection-token, remove AND ignore and header fields with the same name as the token </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 377 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.11 </para></entry><entry colsep="1" rowsep="1"><para> as a NON-TRANSPARENT proxy modify content-coding to be more suitable to a client request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 378 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.11 </para></entry><entry colsep="1" rowsep="1"><para> if the content encoding of an entity is not &quot;identity&quot; </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 379 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.11 </para></entry><entry colsep="1" rowsep="1"><para> list in applied order the content codings applied to an entity </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> N/A </para></entry><entry colsep="1" rowsep="1"><para> N/A </para></entry><entry colsep="1" rowsep="1"><para> 380 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.12 </para></entry><entry colsep="1" rowsep="1"><para> list multiple languages in a Content-Language header if the response is intended for multiple audiences (perhaps a multi-lingual error page?) </para></entry><entry colsep="1" rowsep="1"><para> only one language sent </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 381 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.13 </para></entry><entry colsep="1" rowsep="1"><para> use and send the Content-Length header unless prohibited by section 4.4 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 382 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.15 </para></entry><entry colsep="1" rowsep="1"><para> generate Content-MD5 headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 383 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.15 </para></entry><entry colsep="1" rowsep="1"><para> check Content-MD5 headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 384 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.15 </para></entry><entry colsep="1" rowsep="1"><para> remove transfer-encodings before checking the MD5 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 385 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.15 </para></entry><entry colsep="1" rowsep="1"><para> convert line breaks to CRLF before checking the MD5 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 386 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.16 </para></entry><entry colsep="1" rowsep="1"><para> indicate the total length of the full entity body in Content-Range headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 387 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.16 </para></entry><entry colsep="1" rowsep="1"><para> only specify one range in byte-range-resp-spec </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 388 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.16 </para></entry><entry colsep="1" rowsep="1"><para> use absolute byte positions for byte-range-resp-spec values </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 389 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.16 </para></entry><entry colsep="1" rowsep="1"><para> ignore invalid byte-range-resp-spec and any content transferred with it </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 390 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.16 </para></entry><entry colsep="1" rowsep="1"><para> have response code 206 with a byte-range-resp-spec of * </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 391 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.18 </para></entry><entry colsep="1" rowsep="1"><para> assign a Date header if we receive a message without one, </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 392 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.18 </para></entry><entry colsep="1" rowsep="1"><para> assign the best available approximation of the date and time of message generation when we assign Date headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 393 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.19 </para></entry><entry colsep="1" rowsep="1"><para> use Entity tags for comparison with other entities from the same resource </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 394 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.21 </para></entry><entry colsep="1" rowsep="1"><para> treat invalid Expires headers (NON RFC 1123 format) as being in the past </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 395 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.22 </para></entry><entry colsep="1" rowsep="1"><para> log the From header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 396 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.22 </para></entry><entry colsep="1" rowsep="1"><para> use the From header for access-control </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 397 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.23 </para></entry><entry colsep="1" rowsep="1"><para> for clients: include a Host header in all http/1.1 requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 398 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.23 </para></entry><entry colsep="1" rowsep="1"><para> for clients: include an empty Host header in all http/1.1 requests when no host name is available </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 399 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.23 </para></entry><entry colsep="1" rowsep="1"><para> ensure that all requests forwarded include an appropriate Host header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 400 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.23 </para></entry><entry colsep="1" rowsep="1"><para> respond with 400 to http/1.1 requests missing a Host header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 401 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.24 </para></entry><entry colsep="1" rowsep="1"><para> use the strong comparison when comparing entity tags for If-Match </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 402 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.25 </para></entry><entry colsep="1" rowsep="1"><para> return a 304 to IMS requests that have not been modified (using cached data if possible) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 403 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.31 </para></entry><entry colsep="1" rowsep="1"><para> check and decrement (if greater than 0) the Max-Forwards header if present in TRACE and OPTIONS requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 404 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.31 </para></entry><entry colsep="1" rowsep="1"><para> respond as the final recipient if the Max-Forwards header is 0 on a TRACE or OPTIONS request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 405 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.31 </para></entry><entry colsep="1" rowsep="1"><para> ignore the Max-Forwards header for all other methods covered by rfc 2616 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 406 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.32 </para></entry><entry colsep="1" rowsep="1"><para> forward requests with Pragme: no-cache upstream even if a cached copy exists </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 407 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.32 </para></entry><entry colsep="1" rowsep="1"><para> pass Pragma directives up/downstream in all cases </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 408 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.32 </para></entry><entry colsep="1" rowsep="1"><para> ignore pragma directives not relevant or understood by us </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 409 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.32 </para></entry><entry colsep="1" rowsep="1"><para> treat pragme: no-cache as cache-control: no-cache </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 410 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.33 </para></entry><entry colsep="1" rowsep="1"><para> include Proxy-Authenticate when sending a 407 response </para></entry><entry colsep="1" rowsep="1"><para> note: NTLM auth requires an unrecommended order </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 411 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.33 </para></entry><entry colsep="1" rowsep="1"><para> pass Proxy-Authenticate downstream </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 412 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.34 </para></entry><entry colsep="1" rowsep="1"><para> relay credentials from a client upstream to a parent cache (if that is the mechanism by which the two caches cooperatively authenticate a given request) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 413 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.35.1 </para></entry><entry colsep="1" rowsep="1"><para> specify a single byte range or a set of ranges within a single entity with a single byte range operation </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 414 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.35.1 </para></entry><entry colsep="1" rowsep="1"><para> have the last-byte-pos value (if present) great than or equal to the first-byte-pos in the byte-range-spec </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 415 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.35.1 </para></entry><entry colsep="1" rowsep="1"><para> ignore a header field with an invalid byte-range-spec </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 416 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.35.1 </para></entry><entry colsep="1" rowsep="1"><para> return 416 if a byte-range-set is unsatisfiable </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 417 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.35.1 </para></entry><entry colsep="1" rowsep="1"><para> return 206 when returning ranges </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 418 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.35.2 </para></entry><entry colsep="1" rowsep="1"><para> for the client - request one or more subranges on conditional or un-conditional GET requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 419 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.35.2 </para></entry><entry colsep="1" rowsep="1"><para> ignore the range header. </para></entry><entry colsep="1" rowsep="1"><para> We should support this, and should look at caching partial responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 420 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.35.2 </para></entry><entry colsep="1" rowsep="1"><para> only return the requested range to a client even if we get given the entire entity in response to a request containing a range request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 421 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.35.2 </para></entry><entry colsep="1" rowsep="1"><para> store the entire response (if we would normally cache that object) if we get given the entire entity in response to a request containing a range request </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 422 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.36 </para></entry><entry colsep="1" rowsep="1"><para> for the client - send a referer field if the request-URI was not obtained from a source with it's own URI - ie the keyboard </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 423 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.37 </para></entry><entry colsep="1" rowsep="1"><para> use Retry-After to indicate how long a client should wait before requesting the new location </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 424 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.38 </para></entry><entry colsep="1" rowsep="1"><para> modify the Server header on forwarded responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 425 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.38 </para></entry><entry colsep="1" rowsep="1"><para> include a Via header on forwarded responses </para></entry><entry colsep="1" rowsep="1"><para> unless admin suppressed </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 426 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.39 </para></entry><entry colsep="1" rowsep="1"><para> include the TE connection token whenever we use TE on a connection </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 427 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.40 </para></entry><entry colsep="1" rowsep="1"><para> include header fields in the trailer with having sent a Trailer header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 428 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.40 </para></entry><entry colsep="1" rowsep="1"><para> send Transfer-Encoding; Content-Length or Trailer as Trailer field values </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 429 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.41 </para></entry><entry colsep="1" rowsep="1"><para> list in the order applied the transfer-encodings applied to a response (ie rsync, gzip </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 430 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.42 </para></entry><entry colsep="1" rowsep="1"><para> use the upgrade header in a response with status code 101 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 431 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.42 </para></entry><entry colsep="1" rowsep="1"><para> include the Upgrade connection-token whenever we use the Upgrade header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 432 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.43 </para></entry><entry colsep="1" rowsep="1"><para> for the client - include a user-Agent field in requests </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 433 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.44 </para></entry><entry colsep="1" rowsep="1"><para> include a Vary header on any cacheable response we generate that used server negotiation </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 434 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.44 </para></entry><entry colsep="1" rowsep="1"><para> for the 'server' include a vary header with a non-cacheable response the used server negotiation </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 435 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.44 </para></entry><entry colsep="1" rowsep="1"><para> assume the same response will be given by a server for future requests with the same request field values as those listed by the vary header in the response whilst the response is still fresh </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 436 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.44 </para></entry><entry colsep="1" rowsep="1"><para> generate a * value for a vary field </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 437 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.45 </para></entry><entry colsep="1" rowsep="1"><para> fill in the Via header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 438 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.45 </para></entry><entry colsep="1" rowsep="1"><para> replace the host in the via header with a pseudonym for security/privacy </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 439 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.45 </para></entry><entry colsep="1" rowsep="1"><para> append our details to the Via header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 440 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.45 </para></entry><entry colsep="1" rowsep="1"><para> remove comments from the via header before forwarding </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 441 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.45 </para></entry><entry colsep="1" rowsep="1"><para> put comments in the via header before forwarding </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 442 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.45 </para></entry><entry colsep="1" rowsep="1"><para> when used as a gateway/ http firewall forward names/hosts/ports of hosts within the firewall </para></entry><entry colsep="1" rowsep="1"><para> perhaps a config directive - firewall - turn on several things? </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 443 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.45 </para></entry><entry colsep="1" rowsep="1"><para> require explicit enablement of forwarding names/hosts/ports of hosts within the firewall </para></entry><entry colsep="1" rowsep="1"><para> perhaps a config directive - firewall - turn on several things? </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 444 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.45 </para></entry><entry colsep="1" rowsep="1"><para> replace the received-by host with a pseudonym when used as a gateway/ http firewall forward names/hosts/ports of hosts within the firewall </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 445 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.45 </para></entry><entry colsep="1" rowsep="1"><para> for organizations with privacy concerns: collapse multiple protocol-value entries into one entry in the via header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 446 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.45 </para></entry><entry colsep="1" rowsep="1"><para> combine multiple entries unless they are all under the same organizations control and the hosts have already been pseudonymized </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 447 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.45 </para></entry><entry colsep="1" rowsep="1"><para> combine multiple entries in the via header with different protocol values </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 448 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> have responses with more than 1 warning header </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 449 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> generate warn-text in the natural language most likely to be intelligible to the user receiving the response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 450 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> decide on the language for warnings using ANY available knowledge </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 451 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> if sending a warning in a charset other than ISO-8859-1 encode it as per rfc 2047 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 452 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> add new warning headers after existing warning headers </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 453 </para></entry><entry colsep="1" rowsep="1"><para> MUST NOT </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> delete a warning it receives with a given message </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 454 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> remove any warning headers associated with a cached response after successful validation (except as specified for some warning codes) </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 455 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> add any warning headers received in validation responses to cached responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 456 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> generate warning 110 on stale responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 457 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> generate warning 111 on stale responses sent when revalidation failed </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 458 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> generate warning 112 if we are offline intentionally for any length of time </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 459 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> generate warning 113 if our heuristic chose a freshness lifetime &gt; 24 hours and the response's age is &gt;24 hours </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 460 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> include and arbitrary info we want logged or presented to the user in a Warning 199 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 461 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> generate warning 214 if we change the content-coding or media-type of the response unless this warning is already in the response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 462 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> include and arbitrary info we want logged or presented to the user in a Warning 299 </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 463 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> include a warn-date that matches the Date in the response in messages sent with warning headers whose version is HTTP/1.0 or lower </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 464 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> delete warning-values that have a warn-date differing form the Date value in the response </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 465 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.46 </para></entry><entry colsep="1" rowsep="1"><para> delete the warning header if it is empty </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 466 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 14.47 </para></entry><entry colsep="1" rowsep="1"><para> include WWW-Authenticate in 401 responses </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 467 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 15.1 </para></entry><entry colsep="1" rowsep="1"><para> be careful not to disclose personal information of the clients </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 468 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 15.1.2 </para></entry><entry colsep="1" rowsep="1"><para> be able to filter/alter the From field when acting as a gateway </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 469 </para></entry><entry colsep="1" rowsep="1"><para> SHOULD </para></entry><entry colsep="1" rowsep="1"><para> 19.3 </para></entry><entry colsep="1" rowsep="1"><para> assume RC 850 dates more than 50 years in the future are in the past </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 470 </para></entry><entry colsep="1" rowsep="1"><para> MAY </para></entry><entry colsep="1" rowsep="1"><para> 19.3 </para></entry><entry colsep="1" rowsep="1"><para> internally represent an Expires date as earlier than the proper value, but MUST NOT represent it as later than the proper value </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 471 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 19.3 </para></entry><entry colsep="1" rowsep="1"><para> do date calculations in GMT </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> <inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/devil.png" width="15"/></imageobject><textobject><phrase>&gt;:&gt;</phrase></textobject></inlinemediaobject> </para></entry><entry colsep="1" rowsep="1"><para> 472 </para></entry><entry colsep="1" rowsep="1"><para> MUST </para></entry><entry colsep="1" rowsep="1"><para> 19.3 </para></entry><entry colsep="1" rowsep="1"><para> convert HTTP header dates to GMT using the most conservative possible conversion if they are not in GMT </para></entry></row><row rowsep="1"><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"/><entry colsep="1" rowsep="1"><para> 473 </para></entry><entry colsep="1" rowsep="1"><para> idea </para></entry><entry colsep="1" rowsep="1"><para> 19.5.1 </para></entry><entry colsep="1" rowsep="1"><para> sanitize the content-disposition header by removing directory information </para></entry></row></tbody></tgroup></informaltable><!--rule (<hr>) is not applicable to DocBook--><itemizedlist><listitem override="none"><para><ulink url="https://wiki.squid-cache.org/Http11Checklist/CategoryFeature#">CategoryFeature</ulink> </para></listitem></itemizedlist></section></section></article>