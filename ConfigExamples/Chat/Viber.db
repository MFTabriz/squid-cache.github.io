<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>ConfigExamples/Chat/Viber</title><revhistory><revision><revnumber>3</revnumber><date>2021-07-03 09:50:57</date><authorinitials>FrancescoChemolli</authorinitials></revision><revision><revnumber>2</revnumber><date>2018-05-19 18:23:30</date><authorinitials>YuriVoinov</authorinitials></revision><revision><revnumber>1</revnumber><date>2018-05-19 18:21:58</date><authorinitials>YuriVoinov</authorinitials></revision></revhistory></articleinfo><para><emphasis>by <ulink url="https://wiki.squid-cache.org/ConfigExamples/Chat/Viber/YuriVoinov#">YuriVoinov</ulink></emphasis> </para><section><title>Viber Messenger</title><para><emphasis role="strong">Warning</emphasis>: Any example presented here is provided &quot;as-is&quot; with no support or guarantee of suitability. If you have any further questions about these examples please email the squid-users mailing list. </para><section><title>Outline</title><para><ulink url="https://viber.com">Viber Messenger</ulink> is end-to-end encryption messenger/VoIP/group chats/file transfers application. Using it may be prohibited by corporate security policy. </para></section><section><title>Usage</title><para>Usually Viber works in most Squid's setups without any additional configuration. Blocking it, however, require some additional steps. To block Viber, you require SSL Bump-aware squid, or, at least, <ulink url="https://wiki.squid-cache.org/Features/SslPeekAndSplice">peek-n-splice</ulink> configuration. </para></section><section><title>Squid Configuration File</title><para>Paste the configuration file like this: </para><screen><![CDATA[# Block Viber
acl deny_viber ssl::server_name_regex .viber\.com
acl DiscoverSNIHost at_step SslBump1
ssl_bump peek DiscoverSNIHost
ssl_bump terminate deny_viber
ssl_bump splice all]]></screen><para>then reconfigure Squid. </para><para>This is enough to make Viber fully unoperable (both desktop/mobile). </para><!--rule (<hr>) is not applicable to DocBook--><para> <ulink url="https://wiki.squid-cache.org/ConfigExamples/Chat/Viber/CategoryConfigExample#">CategoryConfigExample</ulink> </para></section></section></article>