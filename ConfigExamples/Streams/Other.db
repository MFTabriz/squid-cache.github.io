<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>ConfigExamples/Streams/Other</title><revhistory><revision><revnumber>11</revnumber><date>2016-09-26 20:01:17</date><authorinitials>YuriVoinov</authorinitials></revision><revision><revnumber>10</revnumber><date>2009-08-04 23:23:36</date><authorinitials>AmosJeffries</authorinitials><revremark>new mime type emitted by YouTube (from squid-users submission)</revremark></revision><revision><revnumber>9</revnumber><date>2009-08-03 08:47:26</date><authorinitials>AmosJeffries</authorinitials><revremark>mime patterns dont need .* prefix and suffix</revremark></revision><revision><revnumber>8</revnumber><date>2009-08-03 08:46:18</date><authorinitials>AmosJeffries</authorinitials><revremark>add flash animation patterns</revremark></revision><revision><revnumber>7</revnumber><date>2009-08-03 08:21:01</date><authorinitials>AmosJeffries</authorinitials><revremark>missed one</revremark></revision><revision><revnumber>6</revnumber><date>2009-08-03 08:20:20</date><authorinitials>AmosJeffries</authorinitials><revremark>add optional query-string to file extension patterns.</revremark></revision><revision><revnumber>5</revnumber><date>2009-04-02 00:43:29</date><authorinitials>AmosJeffries</authorinitials><revremark>add mime for flash</revremark></revision><revision><revnumber>4</revnumber><date>2009-04-02 00:42:27</date><authorinitials>AmosJeffries</authorinitials><revremark>correct some typos in regex</revremark></revision><revision><revnumber>3</revnumber><date>2009-04-01 23:50:34</date><authorinitials>AmosJeffries</authorinitials><revremark>streams now have a section</revremark></revision><revision><revnumber>2</revnumber><date>2009-02-01 06:32:17</date><authorinitials>AmosJeffries</authorinitials><revremark>link to include ffeature page</revremark></revision><revision><revnumber>1</revnumber><date>2008-10-04 03:39:39</date><authorinitials>AmosJeffries</authorinitials><revremark>import from knowledge base general article.</revremark></revision></revhistory></articleinfo><section><title>Media Streams</title><para><emphasis role="strong">Warning</emphasis>: Any example presented here is provided &quot;as-is&quot; with no support or guarantee of suitability. If you have any further questions about these examples please email the squid-users mailing list. </para><para>Media Streams come in many types. Most commonly used are Audio, Video, or Audio-Visual Streaming. </para><para>It's hard to separate the stream types by application so the config below includes all the known streams and simply comments the commonly known ones where possible. </para><section><title>Squid Configuration File</title><para>Configuration file to <ulink url="https://wiki.squid-cache.org/ConfigExamples/Streams/Other/Features/ConfigIncludes#">Include</ulink>: </para><screen><![CDATA[# Media Streams
]]><![CDATA[
]]><![CDATA[
## MediaPlayer MMS Protocol
acl media rep_mime_type mms
acl mediapr url_regex dvrplayer mediastream ^mms://
## (Squid does not yet handle the URI as a known proto type.)
]]><![CDATA[
]]><![CDATA[
## Active Stream Format (Windows Media Player)
acl media rep_mime_type x-ms-asf
acl mediapr urlpath_regex \.(afx|asf)(\?.*)?$
]]><![CDATA[
]]><![CDATA[
## Flash Video Format
acl media rep_mime_type video/flv video/x-flv
acl mediapr urlpath_regex \.flv(\?.*)?$
]]><![CDATA[
]]><![CDATA[
## Flash General Media Scripts (Animation)
acl media rep_mime_type application/x-shockwave-flash
acl mediapr urlpath_regex \.swf(\?.*)?$
]]><![CDATA[
]]><![CDATA[
## Others currently unknown
acl media rep_mime_type ms-hdr
acl media rep_mime_type x-fcs
]]><![CDATA[
]]><![CDATA[
http_access deny mediapr
http_reply_access deny media]]></screen><itemizedlist><listitem override="none"><para><inlinemediaobject><imageobject><imagedata depth="15" fileref="https://wiki.squid-cache.org/wiki/squidtheme/img/alert.png" width="15"/></imageobject><textobject><phrase>/!\</phrase></textobject></inlinemediaobject> For you, should not come as a surprise that many popular video services using incorrect mime-types to counteract blocking by proxy operators. For example, porn sites that utilize text mime-types for video. Accordingly, not only can you use the above method to block videos from such sites. Besides, is not uncommon incorrect mime-encoding due to incorrect configuration of a number of sites. </para></listitem></itemizedlist><!--rule (<hr>) is not applicable to DocBook--><para> <ulink url="https://wiki.squid-cache.org/ConfigExamples/Streams/Other/CategoryConfigExample#">CategoryConfigExample</ulink> </para></section></section></article>