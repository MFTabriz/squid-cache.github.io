<?xml version="1.0" encoding="utf-8"?><!DOCTYPE article  PUBLIC '-//OASIS//DTD DocBook XML V4.4//EN'  'http://www.docbook.org/xml/4.4/docbookx.dtd'><article><articleinfo><title>KnowledgeBase/FreeBSD</title><revhistory><revision><revnumber>13</revnumber><date>2021-06-21 21:19:16</date><authorinitials>FrancescoChemolli</authorinitials></revision><revision><revnumber>12</revnumber><date>2021-06-14 22:59:59</date><authorinitials>FrancescoChemolli</authorinitials></revision><revision><revnumber>11</revnumber><date>2021-06-14 22:57:57</date><authorinitials>FrancescoChemolli</authorinitials></revision><revision><revnumber>10</revnumber><date>2015-09-03 20:52:31</date><authorinitials>Eliezer Croitoru</authorinitials></revision><revision><revnumber>9</revnumber><date>2014-08-28 13:50:42</date><authorinitials>AmosJeffries</authorinitials></revision><revision><revnumber>8</revnumber><date>2014-06-12 22:04:23</date><authorinitials>NathanHoad</authorinitials><revremark>Make Ports descriptions consistent with names</revremark></revision><revision><revnumber>7</revnumber><date>2014-06-12 11:10:49</date><authorinitials>AmosJeffries</authorinitials><revremark>updates found</revremark></revision><revision><revnumber>6</revnumber><date>2011-05-10 08:12:37</date><authorinitials>AmosJeffries</authorinitials><revremark>link FreeBSD bug reporting system. link back to FAQ</revremark></revision><revision><revnumber>5</revnumber><date>2011-05-10 07:57:22</date><authorinitials>AmosJeffries</authorinitials><revremark>minor tweaks</revremark></revision><revision><revnumber>4</revnumber><date>2010-02-19 01:59:39</date><authorinitials>AmosJeffries</authorinitials><revremark>shuffle mroe bits from FAQ</revremark></revision><revision><revnumber>3</revnumber><date>2009-12-21 06:02:18</date><authorinitials>DavidRawling</authorinitials></revision><revision><revnumber>2</revnumber><date>2009-12-21 05:53:19</date><authorinitials>DavidRawling</authorinitials><revremark>Replaced yum (Linux) approach with FreeBSD ports / packages approach</revremark></revision><revision><revnumber>1</revnumber><date>2009-11-13 13:33:07</date><authorinitials>AmosJeffries</authorinitials><revremark>import snippets from binaries and compiling pages. add help about new FreeBSD security issue.</revremark></revision></revhistory></articleinfo><section><title>Squid on FreeBSD</title><section><title>Pre-Built Binary Packages</title><para>FreeBSD 12.2 ships squid-4.14 as a pre-built package, and <ulink url="http://www.freebsd.org/cgi/ports.cgi?query=^squid&amp;stype=name">squid-4.15</ulink> in the ports collection. </para><para>It also carries squid-5.0.5 under the name &quot;squid-devel&quot; </para><para>To install the binary package: </para><screen><![CDATA[ pkg add squid]]></screen></section><section><title>Compiling</title><para>The <ulink url="https://wiki.squid-cache.org/KnowledgeBase/FreeBSD/SquidFaq/CompilingSquid#">general build instructions</ulink> should be all you need. </para><para>However, if you wish to integrate patching of Squid with patching of your other FreeBSD packages, it might be easiest to install Squid from the Ports collection. As of FreeBSD 12.2, the available ports are: </para><itemizedlist><listitem><para><code>/usr/ports/www/squid3</code> - Squid 3.5.28 </para></listitem><listitem><para><code>/usr/ports/www/squid3</code> - Squid 4.10 </para></listitem></itemizedlist><para>To install squid-4: </para><screen><![CDATA[ cd /usr/ports/www/squid
 make install clean]]></screen></section><section><title>Standard Locations</title><para>The FreeBSD packages and ports install squid in the following locations: </para><itemizedlist><listitem><para><code> /usr/local/sbin </code> - binaries (squid, squidclient, etc) </para></listitem><listitem><para><code> /usr/local/etc/squid </code> - configurations (squid.conf, mime.conf, error pages) </para></listitem><listitem><para><code> /usr/local/etc/rc.d/squid </code> - daemon control script </para></listitem></itemizedlist></section><section><title>Troubleshooting</title><section><title>ERROR: Could not send signal N to process NN: (3) No such process</title><para>FreeBSD contains additional security settings to prevent users sending fatal or other signals to other users applications. </para><screen><![CDATA[ sysctl security.bsd.see_other_uids]]></screen><para>Unfortunately this catches Squid in the middle. Since the administrative process of Squid normally runs as root and the child worker process runs as some other non-privileged user (by default: <emphasis role="strong">nobody</emphasis>). The <emphasis role="strong">root</emphasis> administrative process is unable to send signals such as <emphasis>shutdown</emphasis> or <emphasis>reconfigure</emphasis> to its own child. </para><!--rule (<hr>) is not applicable to DocBook--><para> <ulink url="https://wiki.squid-cache.org/KnowledgeBase/FreeBSD/CategoryKnowledgeBase#">CategoryKnowledgeBase</ulink> <ulink url="https://wiki.squid-cache.org/KnowledgeBase/FreeBSD/CategoryUpdated#">CategoryUpdated</ulink> </para></section></section></section></article>